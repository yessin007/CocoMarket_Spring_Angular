{"ast":null,"code":"import { PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/forms\";\nconst _c0 = [\"newsletter\"];\nfunction NewsletterComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"div\", 6)(5, \"div\", 7)(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function NewsletterComponent_ng_template_0_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const modal_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r2.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementStart(7, \"span\", 9);\n    i0.ɵɵtext(8, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 10);\n    i0.ɵɵelement(10, \"img\", 11);\n    i0.ɵɵelementStart(11, \"h2\");\n    i0.ɵɵtext(12, \"newsletter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"form\", 12)(14, \"div\", 13);\n    i0.ɵɵelement(15, \"input\", 14);\n    i0.ɵɵelementStart(16, \"button\", 15);\n    i0.ɵɵtext(17, \"subscribe\");\n    i0.ɵɵelementEnd()()()()()()()()()();\n  }\n}\nexport class NewsletterComponent {\n  constructor(platformId, modalService) {\n    this.platformId = platformId;\n    this.modalService = modalService;\n    this.modalOpen = false;\n  }\n  ngOnInit() {}\n  ngAfterViewInit() {\n    if (localStorage.getItem(\"newsletter\") !== 'true') this.openModal();\n    localStorage.setItem(\"newsletter\", 'true');\n  }\n  openModal() {\n    if (isPlatformBrowser(this.platformId)) {\n      // For SSR \n      this.modalService.open(this.NewsLetterModal, {\n        size: 'lg',\n        ariaLabelledBy: 'NewsLetter-Modal',\n        centered: true,\n        windowClass: 'theme-modal newsletterm NewsLetterModal'\n      }).result.then(result => {\n        this.modalOpen = true;\n        `Result ${result}`;\n      }, reason => {\n        this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n      });\n    }\n  }\n  getDismissReason(reason) {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n  ngOnDestroy() {\n    if (this.modalOpen) {\n      this.modalService.dismissAll();\n    }\n  }\n}\nNewsletterComponent.ɵfac = function NewsletterComponent_Factory(t) {\n  return new (t || NewsletterComponent)(i0.ɵɵdirectiveInject(PLATFORM_ID), i0.ɵɵdirectiveInject(i1.NgbModal));\n};\nNewsletterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewsletterComponent,\n  selectors: [[\"app-newsletter\"]],\n  viewQuery: function NewsletterComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.NewsLetterModal = _t.first);\n    }\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[\"class\", \"theme-modal\"], [\"newsletter\", \"\"], [1, \"modal-content\"], [1, \"modal-body\", \"modal7\"], [1, \"container-fluid\", \"p-0\"], [1, \"row\"], [1, \"col-12\"], [1, \"modal-bg\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"offer-content\"], [\"src\", \"assets/images/offer-banner-1.png\", \"alt\", \"\", 1, \"img-fluid\"], [\"action\", \"https://pixelstrap.us19.list-manage.com/subscribe/post?u=5a128856334b598b395f1fc9b&id=082f74cbda\", \"method\", \"post\", \"id\", \"mc-embedded-subscribe-form\", \"name\", \"mc-embedded-subscribe-form\", \"target\", \"_blank\", 1, \"auth-form\", \"needs-validation\"], [1, \"form-group\", \"mx-sm-3\"], [\"type\", \"text\", \"name\", \"EMAIL\", \"id\", \"mce-EMAIL\", \"placeholder\", \"Enter your email\", \"required\", \"required\", 1, \"form-control\"], [\"type\", \"submit\", \"id\", \"mc-submit\", 1, \"btn\", \"btn-solid\"]],\n  template: function NewsletterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NewsletterComponent_ng_template_0_Template, 18, 0, \"ng-template\", 0, 1, i0.ɵɵtemplateRefExtractor);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SACcA,WAAW,QAAgB,eAAe;AACxD,SAASC,iBAAiB,QAAQ,iBAAiB;AACnD,SAAmBC,mBAAmB,QAAQ,4BAA4B;;;;;;;;ICDtEC,8BAA2B;IAMqDA;MAAA;MAAA;MAAA,OAASA,gCAAc,aAAa,CAAC;IAAA,EAAC;IAC1FA,+BAAyB;IAAAA,sBAAO;IAAAA,iBAAO;IAE3CA,+BAA2B;IAAAA,2BAAqE;IAC5FA,2BAAI;IAAAA,2BAAU;IAAAA,iBAAK;IACnBA,iCAAuP;IAE/OA,6BAAuH;IACvHA,mCAA2D;IAAAA,0BAAS;IAAAA,iBAAS;;;ADNrH,OAAM,MAAOC,mBAAmB;EAO9BC,YAAyCC,UAAkB,EACjDC,YAAsB;IADS,eAAU,GAAVD,UAAU;IACzC,iBAAY,GAAZC,YAAY;IAHf,cAAS,GAAY,KAAK;EAGG;EAEpCC,QAAQ,IACR;EAEAC,eAAe;IACb,IAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,KAAK,MAAM,EAC7C,IAAI,CAACC,SAAS,EAAE;IACnBF,YAAY,CAACG,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC;EAC5C;EAEAD,SAAS;IACP,IAAIX,iBAAiB,CAAC,IAAI,CAACK,UAAU,CAAC,EAAE;MAAE;MACxC,IAAI,CAACC,YAAY,CAACO,IAAI,CAAC,IAAI,CAACC,eAAe,EAAE;QAC3CC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE,kBAAkB;QAClCC,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE;OACd,CAAC,CAACC,MAAM,CAACC,IAAI,CAAED,MAAM,IAAI;QACxB,IAAI,CAACE,SAAS,GAAG,IAAI;QACrB,UAAUF,MAAM,EAAE;MACpB,CAAC,EAAGG,MAAM,IAAI;QACZ,IAAI,CAACC,WAAW,GAAG,aAAa,IAAI,CAACC,gBAAgB,CAACF,MAAM,CAAC,EAAE;MACjE,CAAC,CAAC;;EAEN;EAEQE,gBAAgB,CAACF,MAAW;IAClC,IAAIA,MAAM,KAAKrB,mBAAmB,CAACwB,GAAG,EAAE;MACtC,OAAO,iBAAiB;KACzB,MAAM,IAAIH,MAAM,KAAKrB,mBAAmB,CAACyB,cAAc,EAAE;MACxD,OAAO,2BAA2B;KACnC,MAAM;MACL,OAAO,SAASJ,MAAM,EAAE;;EAE5B;EAEAK,WAAW;IACT,IAAG,IAAI,CAACN,SAAS,EAAC;MAChB,IAAI,CAACf,YAAY,CAACsB,UAAU,EAAE;;EAElC;;AAjDWzB,mBAAmB;mBAAnBA,mBAAmB,uBAOVJ,WAAW;AAAA;AAPpBI,mBAAmB;QAAnBA,mBAAmB;EAAA0B;EAAAC;IAAA;;;;;;;;;;;;;MCThC5B,mHAyBc","names":["PLATFORM_ID","isPlatformBrowser","ModalDismissReasons","i0","NewsletterComponent","constructor","platformId","modalService","ngOnInit","ngAfterViewInit","localStorage","getItem","openModal","setItem","open","NewsLetterModal","size","ariaLabelledBy","centered","windowClass","result","then","modalOpen","reason","closeResult","getDismissReason","ESC","BACKDROP_CLICK","ngOnDestroy","dismissAll","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shared\\components\\modal\\newsletter\\newsletter.component.ts","C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shared\\components\\modal\\newsletter\\newsletter.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy, ViewChild, TemplateRef, Input, AfterViewInit,\r\n  Injectable, PLATFORM_ID, Inject } from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-newsletter',\r\n  templateUrl: './newsletter.component.html',\r\n  styleUrls: ['./newsletter.component.scss']\r\n})\r\nexport class NewsletterComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @ViewChild(\"newsletter\", { static: false }) NewsLetterModal: TemplateRef<any>;\r\n\r\n  public closeResult: string;\r\n  public modalOpen: boolean = false;\r\n\r\n  constructor(@Inject(PLATFORM_ID) private platformId: Object,\r\n    private modalService: NgbModal) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if(localStorage.getItem(\"newsletter\") !== 'true')\r\n       this.openModal();\r\n    localStorage.setItem(\"newsletter\", 'true');\r\n  }\r\n\r\n  openModal() {\r\n    if (isPlatformBrowser(this.platformId)) { // For SSR \r\n      this.modalService.open(this.NewsLetterModal, { \r\n        size: 'lg',\r\n        ariaLabelledBy: 'NewsLetter-Modal',\r\n        centered: true,\r\n        windowClass: 'theme-modal newsletterm NewsLetterModal'\r\n      }).result.then((result) => {\r\n        this.modalOpen = true;\r\n        `Result ${result}`\r\n      }, (reason) => {\r\n        this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n      });\r\n    }\r\n  }\r\n\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if(this.modalOpen){\r\n      this.modalService.dismissAll();\r\n    }\r\n  }\r\n\r\n}\r\n","<!--modal popup start-->\r\n<ng-template class=\"theme-modal\" #newsletter let-modal>\r\n    <div class=\"modal-content\">\r\n        <div class=\"modal-body modal7\">\r\n            <div class=\"container-fluid p-0\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <div class=\"modal-bg\">\r\n                            <button type=\"button\" class=\"close\"  aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                            <div class=\"offer-content\"><img src=\"assets/images/offer-banner-1.png\" class=\"img-fluid\" alt=\"\">\r\n                                <h2>newsletter</h2>\r\n                                <form action=\"https://pixelstrap.us19.list-manage.com/subscribe/post?u=5a128856334b598b395f1fc9b&amp;id=082f74cbda\" class=\"auth-form needs-validation\" method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" target=\"_blank\">\r\n                                    <div class=\"form-group mx-sm-3\">\r\n                                        <input type=\"text\" class=\"form-control\" name=\"EMAIL\" id=\"mce-EMAIL\" placeholder=\"Enter your email\" required=\"required\">\r\n                                        <button type=\"submit\" class=\"btn btn-solid\" id=\"mc-submit\">subscribe</button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n<!--modal popup end-->"]},"metadata":{},"sourceType":"module","externalDependencies":[]}