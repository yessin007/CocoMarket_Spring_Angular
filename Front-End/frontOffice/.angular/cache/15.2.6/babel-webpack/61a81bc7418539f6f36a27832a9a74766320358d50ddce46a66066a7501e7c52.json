{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction SizeComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"input\", 8);\n    i0.ɵɵlistener(\"change\", function SizeComponent_div_0_div_6_Template_input_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.appliedFilter($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const size_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", size_r2)(\"checked\", ctx_r1.checked(size_r2))(\"id\", size_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", size_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(size_r2);\n  }\n}\nfunction SizeComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h3\", 2);\n    i0.ɵɵlistener(\"click\", function SizeComponent_div_0_Template_h3_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.collapse = !ctx_r5.collapse);\n    });\n    i0.ɵɵtext(2, \"Size\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n    i0.ɵɵtemplate(6, SizeComponent_div_0_div_6_Template, 4, 5, \"div\", 6);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"open\", ctx_r0.collapse);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filterbysize);\n  }\n}\nexport class SizeComponent {\n  constructor() {\n    this.products = [];\n    this.size = [];\n    this.sizeFilter = new EventEmitter();\n    this.collapse = true;\n  }\n  ngOnInit() {}\n  get filterbysize() {\n    const uniqueSize = [];\n    this.products.filter(product => {\n      product.variants.filter(variant => {\n        if (variant.size) {\n          const index = uniqueSize.indexOf(variant.size);\n          if (index === -1) uniqueSize.push(variant.size);\n        }\n      });\n    });\n    return uniqueSize;\n  }\n  appliedFilter(event) {\n    let index = this.size.indexOf(event.target.value); // checked and unchecked value\n    if (event.target.checked) this.size.push(event.target.value); // push in array cheked value\n    else this.size.splice(index, 1); // removed in array unchecked value  \n    let size = this.size.length ? {\n      size: this.size.join(\",\")\n    } : {\n      size: null\n    };\n    this.sizeFilter.emit(size);\n  }\n  // check if the item are selected\n  checked(item) {\n    if (this.size.indexOf(item) != -1) {\n      return true;\n    }\n  }\n}\nSizeComponent.ɵfac = function SizeComponent_Factory(t) {\n  return new (t || SizeComponent)();\n};\nSizeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SizeComponent,\n  selectors: [[\"app-size\"]],\n  inputs: {\n    products: \"products\",\n    size: \"size\"\n  },\n  outputs: {\n    sizeFilter: \"sizeFilter\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"collection-collapse-block\", 3, \"open\", 4, \"ngIf\"], [1, \"collection-collapse-block\"], [1, \"collapse-block-title\", 3, \"click\"], [1, \"collection-collapse-block-content\"], [1, \"color-selector\"], [1, \"collection-brand-filter\"], [\"class\", \"custom-control custom-checkbox collection-filter-checkbox\", 4, \"ngFor\", \"ngForOf\"], [1, \"custom-control\", \"custom-checkbox\", \"collection-filter-checkbox\"], [\"type\", \"checkbox\", 1, \"custom-control-input\", 3, \"value\", \"checked\", \"id\", \"change\"], [1, \"custom-control-label\", 3, \"for\"]],\n  template: function SizeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SizeComponent_div_0_Template, 7, 3, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.filterbysize.length);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA2CA,YAAY,QAAQ,eAAe;;;;;;ICKpEC,8BACoC;IAKhCA;MAAAA;MAAA;MAAA,OAAUA,2CAAqB;IAAA,EAAC;IAJlCA,iBAKiC;IACjCA,gCAAqD;IAAAA,YAAU;IAAAA,iBAAQ;;;;;IALrEA,eAAc;IAAdA,+BAAc;IAKoBA,eAAgB;IAAhBA,wCAAgB;IAACA,eAAU;IAAVA,6BAAU;;;;;;IAb3EA,8BAA2F;IACtDA;MAAAA;MAAA;MAAA;IAAA,EAA8B;IAACA,oBAAI;IAAAA,iBAAK;IACzEA,8BAA+C;IAGzCA,oEASM;IACRA,iBAAM;;;;IAfyBA,uCAAuB;IAMjCA,eAAe;IAAfA,6CAAe;;;ADE5C,OAAM,MAAOC,aAAa;EASxBC;IAPS,aAAQ,GAAc,EAAE;IACxB,SAAI,GAAU,EAAE;IAEf,eAAU,GAAwB,IAAIH,YAAY,EAAO;IAE5D,aAAQ,GAAY,IAAI;EAG/B;EAEAI,QAAQ,IACR;EAEA,IAAIC,YAAY;IACd,MAAMC,UAAU,GAAG,EAAE;IACrB,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAEC,OAAO,IAAI;MAC/BA,OAAO,CAACC,QAAQ,CAACF,MAAM,CAAEG,OAAO,IAAI;QAClC,IAAIA,OAAO,CAACC,IAAI,EAAE;UAChB,MAAMC,KAAK,GAAGP,UAAU,CAACQ,OAAO,CAACH,OAAO,CAACC,IAAI,CAAC;UAC9C,IAAIC,KAAK,KAAK,CAAC,CAAC,EAAEP,UAAU,CAACS,IAAI,CAACJ,OAAO,CAACC,IAAI,CAAC;;MAEnD,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,OAAON,UAAU;EACnB;EAEAU,aAAa,CAACC,KAAK;IACjB,IAAIJ,KAAK,GAAG,IAAI,CAACD,IAAI,CAACE,OAAO,CAACG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAE;IACpD,IAAIF,KAAK,CAACC,MAAM,CAACE,OAAO,EACtB,IAAI,CAACR,IAAI,CAACG,IAAI,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAAA,KAEpC,IAAI,CAACP,IAAI,CAACS,MAAM,CAACR,KAAK,EAAC,CAAC,CAAC,CAAC,CAAE;IAE9B,IAAID,IAAI,GAAG,IAAI,CAACA,IAAI,CAACU,MAAM,GAAG;MAAEV,IAAI,EAAE,IAAI,CAACA,IAAI,CAACW,IAAI,CAAC,GAAG;IAAC,CAAE,GAAG;MAAEX,IAAI,EAAE;IAAI,CAAE;IAC5E,IAAI,CAACY,UAAU,CAACC,IAAI,CAACb,IAAI,CAAC;EAC5B;EAEA;EACAQ,OAAO,CAACM,IAAI;IACV,IAAG,IAAI,CAACd,IAAI,CAACE,OAAO,CAACY,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC;MAC/B,OAAO,IAAI;;EAEf;;AA5CWxB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAyB;EAAAC;IAAArB;IAAAK;EAAA;EAAAiB;IAAAL;EAAA;EAAAM;EAAAC;EAAAC;EAAAC;IAAA;MCR1BhC,8DAkBM;;;MAlB0DA,8CAAyB","names":["EventEmitter","i0","SizeComponent","constructor","ngOnInit","filterbysize","uniqueSize","products","filter","product","variants","variant","size","index","indexOf","push","appliedFilter","event","target","value","checked","splice","length","join","sizeFilter","emit","item","selectors","inputs","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\collection\\widgets\\size\\size.component.ts","C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\collection\\widgets\\size\\size.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Product } from '../../../../shared/classes/product';\r\n\r\n@Component({\r\n  selector: 'app-size',\r\n  templateUrl: './size.component.html',\r\n  styleUrls: ['./size.component.scss']\r\n})\r\nexport class SizeComponent implements OnInit {\r\n\r\n  @Input() products: Product[] = [];\r\n  @Input() size: any[] = [];\r\n  \r\n  @Output() sizeFilter  : EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  public collapse: boolean = true;\r\n\r\n  constructor() { \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get filterbysize() {\r\n    const uniqueSize = []\r\n    this.products.filter((product) => {\r\n      product.variants.filter((variant) => {\r\n        if (variant.size) {\r\n          const index = uniqueSize.indexOf(variant.size)\r\n          if (index === -1) uniqueSize.push(variant.size)\r\n        }\r\n      })\r\n    })\r\n    return uniqueSize\r\n  }\r\n\r\n  appliedFilter(event) {\r\n    let index = this.size.indexOf(event.target.value);  // checked and unchecked value\r\n    if (event.target.checked)   \r\n      this.size.push(event.target.value); // push in array cheked value\r\n    else \r\n      this.size.splice(index,1);  // removed in array unchecked value  \r\n    \r\n    let size = this.size.length ? { size: this.size.join(\",\") } : { size: null }; \r\n    this.sizeFilter.emit(size);\r\n  }\r\n\r\n  // check if the item are selected\r\n  checked(item){\r\n    if(this.size.indexOf(item) != -1){\r\n      return true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"collection-collapse-block\" [class.open]=\"collapse\" *ngIf=\"filterbysize.length\">\r\n    <h3 class=\"collapse-block-title\" (click)=\"collapse = !collapse\">Size</h3>\r\n    <div class=\"collection-collapse-block-content\">\r\n      <div class=\"color-selector\">\r\n        <div class=\"collection-brand-filter\">\r\n          <div class=\"custom-control custom-checkbox collection-filter-checkbox\"\r\n            *ngFor=\"let size of filterbysize\">\r\n            <input type=\"checkbox\" \r\n              [value]=\"size\"\r\n              [checked]=\"checked(size)\"\r\n              [id]=\"size\"\r\n              (change)=\"appliedFilter($event)\" \r\n              class=\"custom-control-input\" />\r\n            <label class=\"custom-control-label\" for=\"{{ size }}\">{{ size }}</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}