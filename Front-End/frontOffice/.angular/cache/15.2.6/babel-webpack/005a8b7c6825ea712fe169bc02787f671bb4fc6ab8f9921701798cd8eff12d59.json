{"ast":null,"code":"import { Deliveries } from './Deliveries';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GetCurrentLocation {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.GET_CURRENT_LOCATION = 'http://localhost:8083/kaddem/api/maps';\n    this.delivery = new Deliveries();\n  }\n  getCurrentLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.lat = position.coords.latitude;\n        this.lng = position.coords.longitude;\n        console.log(`Latitude: ${this.lat}, Longitude: ${this.lng}`);\n        this.delivery.clientLatitude = this.lat;\n        this.delivery.clientLongitude = this.lng;\n        const ASSIGN_LOCATION = `http://localhost:8083/kaddem/api/delivery/add_delivery/${this.lat}/${this.lng}`;\n        this.setLatLngToProvider(ASSIGN_LOCATION, this.delivery).subscribe(resp => {\n          console.log(resp);\n        });\n      });\n    } else {\n      console.log('Geolocation is not supported by this browser.');\n    }\n  }\n  setLatLngToProvider(url, d) {\n    return this.httpClient.post(url, d);\n  }\n}\nGetCurrentLocation.ɵfac = function GetCurrentLocation_Factory(t) {\n  return new (t || GetCurrentLocation)(i0.ɵɵinject(i1.HttpClient));\n};\nGetCurrentLocation.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GetCurrentLocation,\n  factory: GetCurrentLocation.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAQA,UAAU,QAAO,cAAc;;;AAKvC,OAAM,MAAOC,kBAAkB;EAG3BC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IADrB,yBAAoB,GAAG,uCAAuC;IAKvE,aAAQ,GAAe,IAAIH,UAAU,EAAE;EAHvC;EAIAI,kBAAkB;IACd,IAAIC,SAAS,CAACC,WAAW,EAAE;MACvBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAEC,QAAQ,IAAI;QACnD,IAAI,CAACC,GAAG,GAAGD,QAAQ,CAACE,MAAM,CAACC,QAAQ;QACnC,IAAI,CAACC,GAAG,GAAGJ,QAAQ,CAACE,MAAM,CAACG,SAAS;QACpCC,OAAO,CAACC,GAAG,CAAC,aAAa,IAAI,CAACN,GAAG,gBAAgB,IAAI,CAACG,GAAG,EAAE,CAAC;QAC5D,IAAI,CAACI,QAAQ,CAACC,cAAc,GAAG,IAAI,CAACR,GAAG;QACvC,IAAI,CAACO,QAAQ,CAACE,eAAe,GAAG,IAAI,CAACN,GAAG;QACxC,MAAMO,eAAe,GAAG,0DAA0D,IAAI,CAACV,GAAG,IAAI,IAAI,CAACG,GAAG,EAAE;QAExG,IAAI,CAACQ,mBAAmB,CAACD,eAAe,EAAE,IAAI,CAACH,QAAQ,CAAC,CAACK,SAAS,CAAEC,IAAI,IAAI;UACxER,OAAO,CAACC,GAAG,CAACO,IAAI,CAAC;QACrB,CAAC,CAAC;MACL,CAAC,CAAC;KAIL,MAAM;MACHR,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;;EAGpE;EACAK,mBAAmB,CAACG,GAAW,EAACC,CAAc;IAC1C,OAAO,IAAI,CAACrB,UAAU,CAACsB,IAAI,CAACF,GAAG,EAAEC,CAAC,CAAC;EACvC;;AAhCSvB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;SAAlBA,kBAAkB;EAAAyB,SAAlBzB,kBAAkB;EAAA0B,YAFf;AAAM","names":["Deliveries","GetCurrentLocation","constructor","httpClient","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","console","log","delivery","clientLatitude","clientLongitude","ASSIGN_LOCATION","setLatLngToProvider","subscribe","resp","url","d","post","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shared\\services\\GetCurrentLocation.ts"],"sourcesContent":["import {Injectable, Provider} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Deliveries} from './Deliveries';\r\nimport {response} from \"express\";\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class GetCurrentLocation {\r\n\r\n    readonly GET_CURRENT_LOCATION = 'http://localhost:8083/kaddem/api/maps';\r\n    constructor(private httpClient: HttpClient) {\r\n    }\r\n    lat: number;\r\n    lng: number;\r\n    delivery: Deliveries = new Deliveries();\r\n    getCurrentLocation() {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition((position) => {\r\n               this.lat = position.coords.latitude;\r\n               this.lng = position.coords.longitude;\r\n               console.log(`Latitude: ${this.lat}, Longitude: ${this.lng}`);\r\n               this.delivery.clientLatitude = this.lat;\r\n               this.delivery.clientLongitude = this.lng;\r\n               const ASSIGN_LOCATION = `http://localhost:8083/kaddem/api/delivery/add_delivery/${this.lat}/${this.lng}`;\r\n\r\n               this.setLatLngToProvider(ASSIGN_LOCATION, this.delivery).subscribe((resp) => {\r\n                   console.log(resp);\r\n               });\r\n            });\r\n\r\n\r\n\r\n        } else {\r\n            console.log('Geolocation is not supported by this browser.');\r\n        }\r\n\r\n    }\r\n    setLatLngToProvider(url: string,d : Deliveries) {\r\n        return this.httpClient.post(url, d);\r\n    }\r\n\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}