{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\nfunction ColorsComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"input\", 7);\n    i0.ɵɵlistener(\"change\", function ColorsComponent_div_0_div_5_Template_input_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.appliedFilter($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(2, \"span\", 8);\n    i0.ɵɵelementStart(3, \"label\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const color_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", color_r2)(\"checked\", ctx_r1.checked(color_r2))(\"id\", color_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(color_r2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(8, _c0, color_r2));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", color_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(color_r2);\n  }\n}\nfunction ColorsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h3\", 2);\n    i0.ɵɵlistener(\"click\", function ColorsComponent_div_0_Template_h3_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.collapse = !ctx_r5.collapse);\n    });\n    i0.ɵɵtext(2, \"colors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4);\n    i0.ɵɵtemplate(5, ColorsComponent_div_0_div_5_Template, 5, 10, \"div\", 5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"open\", ctx_r0.collapse);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filterbycolor);\n  }\n}\nexport class ColorsComponent {\n  constructor() {\n    this.products = [];\n    this.colors = [];\n    this.colorsFilter = new EventEmitter();\n    this.collapse = true;\n  }\n  ngOnInit() {}\n  get filterbycolor() {\n    const uniqueColors = [];\n    this.products.filter(product => {\n      product.variants.filter(variant => {\n        if (variant.color) {\n          const index = uniqueColors.indexOf(variant.color);\n          if (index === -1) uniqueColors.push(variant.color);\n        }\n      });\n    });\n    return uniqueColors;\n  }\n  appliedFilter(event) {\n    let index = this.colors.indexOf(event.target.value); // checked and unchecked value\n    if (event.target.checked) this.colors.push(event.target.value); // push in array cheked value\n    else this.colors.splice(index, 1); // removed in array unchecked value\n    let colors = this.colors.length ? {\n      color: this.colors.join(\",\")\n    } : {\n      color: null\n    };\n    this.colorsFilter.emit(colors);\n  }\n  // check if the item are selected\n  checked(item) {\n    if (this.colors.indexOf(item) != -1) {\n      return true;\n    }\n  }\n}\nColorsComponent.ɵfac = function ColorsComponent_Factory(t) {\n  return new (t || ColorsComponent)();\n};\nColorsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ColorsComponent,\n  selectors: [[\"app-colors\"]],\n  inputs: {\n    products: \"products\",\n    colors: \"colors\"\n  },\n  outputs: {\n    colorsFilter: \"colorsFilter\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"collection-collapse-block\", 3, \"open\", 4, \"ngIf\"], [1, \"collection-collapse-block\"], [1, \"collapse-block-title\", 3, \"click\"], [1, \"collection-collapse-block-content\"], [1, \"collection-brand-filter\", \"color-filter\"], [\"class\", \"custom-control custom-checkbox collection-filter-checkbox\", 4, \"ngFor\", \"ngForOf\"], [1, \"custom-control\", \"custom-checkbox\", \"collection-filter-checkbox\"], [\"type\", \"checkbox\", 1, \"custom-control-input\", 3, \"value\", \"checked\", \"id\", \"change\"], [3, \"ngStyle\"], [1, \"custom-control-label\", 3, \"for\"]],\n  template: function ColorsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ColorsComponent_div_0_Template, 6, 3, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.filterbycolor.length);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i1.NgStyle],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA2CA,YAAY,QAAQ,eAAe;;;;;;;;;;;ICItEC,8BACsC;IAMlCA;MAAAA;MAAA;MAAA,OAAUA,2CAAqB;IAAA,EAAC;IALlCA,iBAMiC;IACjCA,0BAAqE;IACrEA,gCAAsD;IAAAA,YAAW;IAAAA,iBAAQ;;;;;IANvEA,eAAe;IAAfA,gCAAe;IAKXA,eAAe;IAAfA,uBAAe;IAACA,8DAAuC;IACzBA,eAAiB;IAAjBA,yCAAiB;IAACA,eAAW;IAAXA,8BAAW;;;;;;IAd3EA,8BAA4F;IACvDA;MAAAA;MAAA;MAAA;IAAA,EAA8B;IAACA,sBAAM;IAAAA,iBAAK;IAC3EA,8BAA+C;IAE3CA,uEAWM;IACRA,iBAAM;;;;IAhB2BA,uCAAuB;IAKlCA,eAAgB;IAAhBA,8CAAgB;;;ADG5C,OAAM,MAAOC,eAAe;EAS1BC;IAPS,aAAQ,GAAc,EAAE;IACxB,WAAM,GAAU,EAAE;IAEjB,iBAAY,GAAwB,IAAIH,YAAY,EAAO;IAE9D,aAAQ,GAAY,IAAI;EAG/B;EAEAI,QAAQ,IACR;EAEA,IAAIC,aAAa;IACf,MAAMC,YAAY,GAAG,EAAE;IACvB,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAEC,OAAO,IAAI;MAC/BA,OAAO,CAACC,QAAQ,CAACF,MAAM,CAAEG,OAAO,IAAI;QAClC,IAAIA,OAAO,CAACC,KAAK,EAAE;UACjB,MAAMC,KAAK,GAAGP,YAAY,CAACQ,OAAO,CAACH,OAAO,CAACC,KAAK,CAAC;UACjD,IAAIC,KAAK,KAAK,CAAC,CAAC,EAAEP,YAAY,CAACS,IAAI,CAACJ,OAAO,CAACC,KAAK,CAAC;;MAEtD,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,OAAON,YAAY;EACrB;EAEAU,aAAa,CAACC,KAAK;IACjB,IAAIJ,KAAK,GAAG,IAAI,CAACK,MAAM,CAACJ,OAAO,CAACG,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAE;IACtD,IAAIH,KAAK,CAACE,MAAM,CAACE,OAAO,EACpB,IAAI,CAACH,MAAM,CAACH,IAAI,CAACE,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAAA,KAEtC,IAAI,CAACF,MAAM,CAACI,MAAM,CAACT,KAAK,EAAC,CAAC,CAAC,CAAC,CAAE;IAElC,IAAIK,MAAM,GAAG,IAAI,CAACA,MAAM,CAACK,MAAM,GAAG;MAAEX,KAAK,EAAE,IAAI,CAACM,MAAM,CAACM,IAAI,CAAC,GAAG;IAAC,CAAE,GAAG;MAAEZ,KAAK,EAAE;IAAI,CAAE;IACpF,IAAI,CAACa,YAAY,CAACC,IAAI,CAACR,MAAM,CAAC;EAChC;EAEA;EACAG,OAAO,CAACM,IAAI;IACV,IAAG,IAAI,CAACT,MAAM,CAACJ,OAAO,CAACa,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC;MACjC,OAAO,IAAI;;EAEf;;AA5CWzB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAA0B;EAAAC;IAAAtB;IAAAW;EAAA;EAAAY;IAAAL;EAAA;EAAAM;EAAAC;EAAAC;EAAAC;IAAA;MCR5BjC,gEAkBM;;;MAlB0DA,+CAA0B","names":["EventEmitter","i0","ColorsComponent","constructor","ngOnInit","filterbycolor","uniqueColors","products","filter","product","variants","variant","color","index","indexOf","push","appliedFilter","event","colors","target","value","checked","splice","length","join","colorsFilter","emit","item","selectors","inputs","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\collection\\widgets\\colors\\colors.component.ts","C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\collection\\widgets\\colors\\colors.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Product } from '../../../../shared/classes/product';\r\n\r\n@Component({\r\n  selector: 'app-colors',\r\n  templateUrl: './colors.component.html',\r\n  styleUrls: ['./colors.component.scss']\r\n})\r\nexport class ColorsComponent implements OnInit {\r\n\r\n  @Input() products: Product[] = [];\r\n  @Input() colors: any[] = [];\r\n\r\n  @Output() colorsFilter  : EventEmitter<any> = new EventEmitter<any>();\r\n  \r\n  public collapse: boolean = true;\r\n\r\n  constructor() { \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get filterbycolor() {\r\n    const uniqueColors = []\r\n    this.products.filter((product) => {\r\n      product.variants.filter((variant) => {\r\n        if (variant.color) {\r\n          const index = uniqueColors.indexOf(variant.color)\r\n          if (index === -1) uniqueColors.push(variant.color)\r\n        }\r\n      })\r\n    })\r\n    return uniqueColors\r\n  }\r\n\r\n  appliedFilter(event) {\r\n    let index = this.colors.indexOf(event.target.value);  // checked and unchecked value\r\n    if (event.target.checked)   \r\n        this.colors.push(event.target.value); // push in array cheked value\r\n    else \r\n        this.colors.splice(index,1);  // removed in array unchecked value\r\n    \r\n    let colors = this.colors.length ? { color: this.colors.join(\",\") } : { color: null };    \r\n    this.colorsFilter.emit(colors);\r\n  }\r\n\r\n  // check if the item are selected\r\n  checked(item){\r\n    if(this.colors.indexOf(item) != -1){\r\n      return true;\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"collection-collapse-block\" [class.open]=\"collapse\" *ngIf=\"filterbycolor.length\">\r\n    <h3 class=\"collapse-block-title\" (click)=\"collapse = !collapse\">colors</h3>\r\n    <div class=\"collection-collapse-block-content\">\r\n      <div class=\"collection-brand-filter color-filter\">\r\n        <div class=\"custom-control custom-checkbox collection-filter-checkbox\"\r\n          *ngFor=\"let color of filterbycolor\">\r\n          <input \r\n            type=\"checkbox\" \r\n            [value]=\"color\"\r\n            [checked]=\"checked(color)\"\r\n            [id]=\"color\"\r\n            (change)=\"appliedFilter($event)\"\r\n            class=\"custom-control-input\" />\r\n          <span [class]=\"color\" [ngStyle]=\"{'background-color': color}\"></span>\r\n          <label class=\"custom-control-label\" for=\"{{ color }}\">{{ color }}</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}