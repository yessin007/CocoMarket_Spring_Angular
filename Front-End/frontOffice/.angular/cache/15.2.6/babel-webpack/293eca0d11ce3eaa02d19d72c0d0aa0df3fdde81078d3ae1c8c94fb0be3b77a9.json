{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../shared/services/product.service\";\nimport * as i4 from \"ngx-infinite-scroll\";\nimport * as i5 from \"../../../shared/components/breadcrumb/breadcrumb.component\";\nimport * as i6 from \"../../../shared/components/categories/categories.component\";\nimport * as i7 from \"../../../shared/components/product/product-box-one/product-box-one.component\";\nimport * as i8 from \"../../../shared/components/product/product-box-vertical-slider/product-box-vertical-slider.component\";\nimport * as i9 from \"../widgets/grid/grid.component\";\nimport * as i10 from \"../widgets/brands/brands.component\";\nimport * as i11 from \"../widgets/colors/colors.component\";\nimport * as i12 from \"../widgets/size/size.component\";\nimport * as i13 from \"../widgets/price/price.component\";\nfunction CollectionInfinitescrollComponent_li_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 45)(1, \"a\", 46);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"i\", 47);\n    i0.ɵɵlistener(\"click\", function CollectionInfinitescrollComponent_li_43_Template_i_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const tag_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.removeTag(tag_r7));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const tag_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", tag_r7, \" \");\n  }\n}\nfunction CollectionInfinitescrollComponent_li_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 48)(1, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function CollectionInfinitescrollComponent_li_44_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.removeAllTags());\n    });\n    i0.ɵɵtext(2, \" Clear all \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CollectionInfinitescrollComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50)(1, \"div\", 51);\n    i0.ɵɵelement(2, \"app-product-box-one\", 52);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r12 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.grid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"product\", product_r12)(\"currency\", ctx_r2.productService == null ? null : ctx_r2.productService.Currency)(\"thumbnail\", false)(\"cartModal\", true);\n  }\n}\nconst _c0 = function () {\n  return [\"/shop/collection/left/sidebar\"];\n};\nfunction CollectionInfinitescrollComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵelement(1, \"img\", 54);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3, \"Sorry! Couldn't find the product you were looking For!!! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Please check if you have misspelt something or try searching with other words.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 55);\n    i0.ɵɵtext(7, \"continue shopping\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction CollectionInfinitescrollComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵlistener(\"scrolled\", function CollectionInfinitescrollComponent_div_51_Template_div_scrolled_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onScroll());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"infiniteScrollDistance\", 2)(\"infiniteScrollThrottle\", 1000);\n  }\n}\nfunction CollectionInfinitescrollComponent_img_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 57);\n  }\n}\nfunction CollectionInfinitescrollComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 58);\n    i0.ɵɵtext(1, \"No More Products\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CollectionInfinitescrollComponent {\n  constructor(route, router, viewScroller, productService) {\n    this.route = route;\n    this.router = router;\n    this.viewScroller = viewScroller;\n    this.productService = productService;\n    this.grid = 'col-xl-3 col-md-6';\n    this.layoutView = 'grid-view';\n    this.all_products = [];\n    this.products = [];\n    this.brands = [];\n    this.colors = [];\n    this.size = [];\n    this.minPrice = 0;\n    this.maxPrice = 1200;\n    this.tags = [];\n    this.pageNo = 1;\n    this.paginate = {}; // Pagination use only\n    this.mobileSidebar = false;\n    this.loader = true;\n    this.finished = false; // boolean when end of data is reached\n    this.addItemCount = 8;\n    // Get Query params..\n    this.route.queryParams.subscribe(params => {\n      this.products = [];\n      this.finished = false;\n      this.brands = params.brand ? params.brand.split(\",\") : [];\n      this.colors = params.color ? params.color.split(\",\") : [];\n      this.size = params.size ? params.size.split(\",\") : [];\n      this.minPrice = params.minPrice ? params.minPrice : this.minPrice;\n      this.maxPrice = params.maxPrice ? params.maxPrice : this.maxPrice;\n      this.tags = [...this.brands, ...this.colors, ...this.size]; // All Tags Array\n      this.category = params.category ? params.category : null;\n      this.sortBy = params.sortBy ? params.sortBy : 'ascending';\n      // Get Filtered Products..\n      this.productService.filterProducts(this.tags).subscribe(response => {\n        // All Products\n        this.all_products = response;\n        // Sorting Filter\n        this.all_products = this.productService.sortProducts(response, this.sortBy);\n        // Category Filter\n        if (params.category) this.all_products = this.all_products.filter(item => item.type == this.category);\n        // Price Filter\n        this.all_products = this.all_products.filter(item => item.price >= this.minPrice && item.price <= this.maxPrice);\n        this.addItems();\n      });\n    });\n  }\n  ngOnInit() {}\n  addItems() {\n    if (this.all_products.length == this.products.length) {\n      this.finished = true;\n      return;\n    }\n    this.products = this.all_products.slice(0, this.addItemCount);\n  }\n  // Infinite scroll\n  onScroll() {\n    // add another items\n    this.addItemCount += 8;\n    this.addItems();\n  }\n  // Append filter value to Url\n  updateFilter(tags) {\n    tags.page = null; // Reset Pagination\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: tags,\n      queryParamsHandling: 'merge',\n      skipLocationChange: false // do trigger navigation\n    }).finally(() => {\n      this.viewScroller.setOffset([120, 120]);\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\n    });\n  }\n  // SortBy Filter\n  sortByFilter(value) {\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: {\n        sortBy: value ? value : null\n      },\n      queryParamsHandling: 'merge',\n      skipLocationChange: false // do trigger navigation\n    }).finally(() => {\n      this.viewScroller.setOffset([120, 120]);\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\n    });\n  }\n  // Remove Tag\n  removeTag(tag) {\n    this.brands = this.brands.filter(val => val !== tag);\n    this.colors = this.colors.filter(val => val !== tag);\n    this.size = this.size.filter(val => val !== tag);\n    let params = {\n      brand: this.brands.length ? this.brands.join(\",\") : null,\n      color: this.colors.length ? this.colors.join(\",\") : null,\n      size: this.size.length ? this.size.join(\",\") : null\n    };\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: params,\n      queryParamsHandling: 'merge',\n      skipLocationChange: false // do trigger navigation\n    }).finally(() => {\n      this.viewScroller.setOffset([120, 120]);\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\n    });\n  }\n  // Clear Tags\n  removeAllTags() {\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: {},\n      skipLocationChange: false // do trigger navigation\n    }).finally(() => {\n      this.viewScroller.setOffset([120, 120]);\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\n    });\n  }\n  // Change Grid Layout\n  updateGridLayout(value) {\n    this.grid = value;\n  }\n  // Change Layout View\n  updateLayoutView(value) {\n    this.layoutView = value;\n    if (value == 'list-view') this.grid = 'col-lg-12';else this.grid = 'col-xl-3 col-md-6';\n  }\n  // Mobile sidebar\n  toggleMobileSidebar() {\n    this.mobileSidebar = !this.mobileSidebar;\n  }\n}\nCollectionInfinitescrollComponent.ɵfac = function CollectionInfinitescrollComponent_Factory(t) {\n  return new (t || CollectionInfinitescrollComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ViewportScroller), i0.ɵɵdirectiveInject(i3.ProductService));\n};\nCollectionInfinitescrollComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CollectionInfinitescrollComponent,\n  selectors: [[\"app-collection-infinitescroll\"]],\n  decls: 60,\n  vars: 29,\n  consts: [[3, \"title\", \"breadcrumb\"], [1, \"section-b-space\"], [1, \"collection-wrapper\"], [1, \"container\"], [1, \"row\"], [1, \"col-lg-3\"], [1, \"collection-filter\"], [1, \"collection-filter-block\"], [1, \"collection-mobile-back\", 3, \"click\"], [1, \"filter-back\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-angle-left\"], [3, \"products\", \"brands\", \"brandsFilter\"], [3, \"products\", \"colors\", \"colorsFilter\"], [3, \"products\", \"size\", \"sizeFilter\"], [3, \"min\", \"max\", \"priceFilter\"], [3, \"title\"], [1, \"collection-sidebar-banner\"], [3, \"routerLink\"], [\"src\", \"assets/images/collection-sidebar-banner.png\", \"alt\", \"banner\", 1, \"img-fluid\"], [1, \"collection-content\", \"col\"], [1, \"page-main-content\"], [1, \"col-sm-12\"], [1, \"top-banner-wrapper\"], [\"src\", \"assets/images/collection-banner.jpg\", \"alt\", \"\", 1, \"img-fluid\"], [1, \"top-banner-content\", \"small-section\"], [1, \"col-xl-12\"], [1, \"filter-main-btn\", 3, \"click\"], [1, \"filter-btn\", \"btn\", \"btn-theme\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-filter\"], [1, \"product-filter-tags\"], [\"class\", \"me-1\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"clear_filter\", 4, \"ngIf\"], [\"id\", \"products\", 1, \"collection-product-wrapper\"], [3, \"products\", \"paginate\", \"layoutView\", \"sortBy\", \"setGrid\", \"setLayout\", \"sortedBy\"], [1, \"product-wrapper-grid\", 3, \"ngClass\"], [\"class\", \"col-grid-box\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-sm-12 text-center section-b-space mt-5 no-found\", 4, \"ngIf\"], [\"infiniteScroll\", \"\", 3, \"infiniteScrollDistance\", \"infiniteScrollThrottle\", \"scrolled\", 4, \"ngIf\"], [1, \"product-infinitescroll\"], [1, \"theme-paggination-block\"], [1, \"container-fluid\", \"p-0\"], [1, \"text-center\", \"col-sm-12\"], [1, \"infinite-scrolling\", \"mt-3\", \"mb-3\", \"d-inline-block\"], [\"src\", \"assets/images/loader.gif\", 4, \"ngIf\"], [\"class\", \"loading-more active\", 4, \"ngIf\"], [1, \"me-1\"], [\"href\", \"javascript:void(0)\", 1, \"filter_tag\"], [1, \"ti-close\", 3, \"click\"], [1, \"clear_filter\"], [\"href\", \"javascript:void(0)\", 1, \"clear_filter\", 3, \"click\"], [1, \"col-grid-box\", 3, \"ngClass\"], [1, \"product-box\"], [3, \"product\", \"currency\", \"thumbnail\", \"cartModal\"], [1, \"col-sm-12\", \"text-center\", \"section-b-space\", \"mt-5\", \"no-found\"], [\"src\", \"assets/images/empty-search.jpg\", 1, \"img-fluid\", \"mb-4\"], [1, \"btn\", \"btn-solid\", 3, \"routerLink\"], [\"infiniteScroll\", \"\", 3, \"infiniteScrollDistance\", \"infiniteScrollThrottle\", \"scrolled\"], [\"src\", \"assets/images/loader.gif\"], [1, \"loading-more\", \"active\"]],\n  template: function CollectionInfinitescrollComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-breadcrumb\", 0);\n      i0.ɵɵelementStart(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8);\n      i0.ɵɵlistener(\"click\", function CollectionInfinitescrollComponent_Template_div_click_8_listener() {\n        return ctx.toggleMobileSidebar();\n      });\n      i0.ɵɵelementStart(9, \"span\", 9);\n      i0.ɵɵelement(10, \"i\", 10);\n      i0.ɵɵtext(11, \" back \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(12, \"app-categories\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 7)(14, \"app-brands\", 11);\n      i0.ɵɵlistener(\"brandsFilter\", function CollectionInfinitescrollComponent_Template_app_brands_brandsFilter_14_listener($event) {\n        return ctx.updateFilter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"app-colors\", 12);\n      i0.ɵɵlistener(\"colorsFilter\", function CollectionInfinitescrollComponent_Template_app_colors_colorsFilter_15_listener($event) {\n        return ctx.updateFilter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"app-size\", 13);\n      i0.ɵɵlistener(\"sizeFilter\", function CollectionInfinitescrollComponent_Template_app_size_sizeFilter_16_listener($event) {\n        return ctx.updateFilter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"app-price\", 14);\n      i0.ɵɵlistener(\"priceFilter\", function CollectionInfinitescrollComponent_Template_app_price_priceFilter_17_listener($event) {\n        return ctx.updateFilter($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(18, \"app-product-box-vertical-slider\", 15);\n      i0.ɵɵelementStart(19, \"div\", 16)(20, \"a\", 17);\n      i0.ɵɵelement(21, \"img\", 18);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(22, \"div\", 19)(23, \"div\", 20)(24, \"div\", 4)(25, \"div\", 21)(26, \"div\", 22)(27, \"a\", 17);\n      i0.ɵɵelement(28, \"img\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 24)(30, \"h4\");\n      i0.ɵɵtext(31, \"fashion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"h5\");\n      i0.ɵɵtext(33, \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"p\");\n      i0.ɵɵtext(35, \" Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(36, \"div\", 4)(37, \"div\", 25)(38, \"div\", 26);\n      i0.ɵɵlistener(\"click\", function CollectionInfinitescrollComponent_Template_div_click_38_listener() {\n        return ctx.toggleMobileSidebar();\n      });\n      i0.ɵɵelementStart(39, \"span\", 27);\n      i0.ɵɵelement(40, \"i\", 28);\n      i0.ɵɵtext(41, \" Filter \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(42, \"ul\", 29);\n      i0.ɵɵtemplate(43, CollectionInfinitescrollComponent_li_43_Template, 4, 1, \"li\", 30);\n      i0.ɵɵtemplate(44, CollectionInfinitescrollComponent_li_44_Template, 3, 0, \"li\", 31);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 32)(46, \"app-grid\", 33);\n      i0.ɵɵlistener(\"setGrid\", function CollectionInfinitescrollComponent_Template_app_grid_setGrid_46_listener($event) {\n        return ctx.updateGridLayout($event);\n      })(\"setLayout\", function CollectionInfinitescrollComponent_Template_app_grid_setLayout_46_listener($event) {\n        return ctx.updateLayoutView($event);\n      })(\"sortedBy\", function CollectionInfinitescrollComponent_Template_app_grid_sortedBy_46_listener($event) {\n        return ctx.sortByFilter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"div\", 34)(48, \"div\", 4);\n      i0.ɵɵtemplate(49, CollectionInfinitescrollComponent_div_49_Template, 3, 5, \"div\", 35);\n      i0.ɵɵtemplate(50, CollectionInfinitescrollComponent_div_50_Template, 8, 2, \"div\", 36);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(51, CollectionInfinitescrollComponent_div_51_Template, 1, 2, \"div\", 37);\n      i0.ɵɵelementStart(52, \"div\", 38)(53, \"div\", 39)(54, \"div\", 40)(55, \"div\", 4)(56, \"div\", 41)(57, \"div\", 42);\n      i0.ɵɵtemplate(58, CollectionInfinitescrollComponent_img_58_Template, 1, 0, \"img\", 43);\n      i0.ɵɵtemplate(59, CollectionInfinitescrollComponent_div_59_Template, 2, 0, \"div\", 44);\n      i0.ɵɵelementEnd()()()()()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"title\", \"Collection\")(\"breadcrumb\", \"Collection\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵclassProp(\"openFilterbar\", ctx.mobileSidebar);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"products\", ctx.products)(\"brands\", ctx.brands);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"products\", ctx.products)(\"colors\", ctx.colors);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"products\", ctx.products)(\"size\", ctx.size);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"min\", ctx.minPrice)(\"max\", ctx.maxPrice);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"title\", \"New Products\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(27, _c0));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(28, _c0));\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tags);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tags.length > 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"products\", ctx.products)(\"paginate\", ctx.paginate)(\"layoutView\", ctx.layoutView)(\"sortBy\", ctx.sortBy);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", ctx.layoutView);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.products.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.products.length);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", !ctx.finished && ctx.products.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.finished && ctx.products.length);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i4.InfiniteScrollDirective, i5.BreadcrumbComponent, i6.CategoriesComponent, i7.ProductBoxOneComponent, i8.ProductBoxVerticalSliderComponent, i1.RouterLink, i9.GridComponent, i10.BrandsComponent, i11.ColorsComponent, i12.SizeComponent, i13.PriceComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CollectionInfinitescrollComponent","constructor","route","router","viewScroller","productService","queryParams","subscribe","params","products","finished","brands","brand","split","colors","color","size","minPrice","maxPrice","tags","category","sortBy","filterProducts","response","all_products","sortProducts","filter","item","type","price","addItems","ngOnInit","length","slice","addItemCount","onScroll","updateFilter","page","navigate","relativeTo","queryParamsHandling","skipLocationChange","finally","setOffset","scrollToAnchor","sortByFilter","value","removeTag","tag","val","join","removeAllTags","updateGridLayout","grid","updateLayoutView","layoutView","toggleMobileSidebar","mobileSidebar","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\collection\\collection-infinitescroll\\collection-infinitescroll.component.html","C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\collection\\collection-infinitescroll\\collection-infinitescroll.component.ts"],"sourcesContent":["<app-breadcrumb [title]=\"'Collection'\" [breadcrumb]=\"'Collection'\"></app-breadcrumb>\r\n<!-- section start -->\r\n<section class=\"section-b-space\">\r\n    <div class=\"collection-wrapper\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-3\">\r\n                    <div class=\"collection-filter\" [class.openFilterbar]=\"mobileSidebar\">\r\n                        <!-- side-bar colleps block stat -->\r\n                        <div class=\"collection-filter-block\">\r\n                            <div class=\"collection-mobile-back\" (click)=\"toggleMobileSidebar()\">\r\n                                <span class=\"filter-back\">\r\n                                    <i class=\"fa fa-angle-left\" aria-hidden=\"true\"></i> back\r\n                                </span>\r\n                            </div>\r\n                            <!-- Category filter start -->\r\n                            <app-categories></app-categories>\r\n                        </div>\r\n                        <!-- silde-bar colleps block end here -->\r\n                        <!-- side-bar colleps block stat -->\r\n                        <div class=\"collection-filter-block\">\r\n                            <!-- brand filter start -->\r\n                            <app-brands [products]=\"products\" [brands]=\"brands\" (brandsFilter)=\"updateFilter($event)\">\r\n                            </app-brands>\r\n                            <!-- color filter start here -->\r\n                            <app-colors [products]=\"products\" [colors]=\"colors\" (colorsFilter)=\"updateFilter($event)\">\r\n                            </app-colors>\r\n                            <!-- size filter start here -->\r\n                            <app-size [products]=\"products\" [size]=\"size\" (sizeFilter)=\"updateFilter($event)\">\r\n                            </app-size>\r\n                            <!-- price filter start here -->\r\n                            <app-price [min]=\"minPrice\" [max]=\"maxPrice\" (priceFilter)=\"updateFilter($event)\">\r\n                            </app-price>\r\n                        </div>\r\n                        <!-- silde-bar colleps block end here -->\r\n                        <!-- side-bar single product slider start -->\r\n                        <app-product-box-vertical-slider [title]=\"'New Products'\">\r\n                        </app-product-box-vertical-slider>\r\n                        <!-- side-bar single product slider end -->\r\n                        <!-- side-bar banner start here -->\r\n                        <div class=\"collection-sidebar-banner\">\r\n                            <a [routerLink]=\"['/shop/collection/left/sidebar']\">\r\n                                <img src=\"assets/images/collection-sidebar-banner.png\" class=\"img-fluid\" alt=\"banner\">\r\n                            </a>\r\n                        </div>\r\n                        <!-- side-bar banner end here -->\r\n                    </div>\r\n                </div>\r\n                <div class=\"collection-content col\">\r\n                    <div class=\"page-main-content\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12\">\r\n                                <div class=\"top-banner-wrapper\">\r\n                                    <a [routerLink]=\"['/shop/collection/left/sidebar']\">\r\n                                        <img src=\"assets/images/collection-banner.jpg\" class=\"img-fluid \" alt=\"\">\r\n                                    </a>\r\n                                    <div class=\"top-banner-content small-section\">\r\n                                        <h4>fashion</h4>\r\n                                        <h5>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\r\n                                        </h5>\r\n                                        <p>\r\n                                            Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has\r\n                                            survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages,\r\n                                            and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-xl-12\">\r\n                                        <div class=\"filter-main-btn\" (click)=\"toggleMobileSidebar()\">\r\n                                            <span class=\"filter-btn btn btn-theme\">\r\n                                                <i class=\"fa fa-filter\" aria-hidden=\"true\"></i> Filter\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <ul class=\"product-filter-tags\">\r\n                                    <li class=\"me-1\" *ngFor=\"let tag of tags\">\r\n                                        <a href=\"javascript:void(0)\" class=\"filter_tag\">\r\n                                            {{tag}} <i class=\"ti-close\" (click)=\"removeTag(tag)\"></i>\r\n                                        </a>\r\n                                    </li>\r\n                                    <li class=\"clear_filter\" *ngIf=\"tags.length > 0\">\r\n                                        <a href=\"javascript:void(0)\" class=\"clear_filter\" (click)=\"removeAllTags()\">\r\n                                            Clear all\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class=\"collection-product-wrapper\" id=\"products\">\r\n                                    <app-grid [products]=\"products\" [paginate]=\"paginate\" [layoutView]=\"layoutView\" [sortBy]=\"sortBy\" (setGrid)=\"updateGridLayout($event)\" (setLayout)=\"updateLayoutView($event)\" (sortedBy)=\"sortByFilter($event)\">\r\n                                    </app-grid>\r\n                                    <div class=\"product-wrapper-grid\" [ngClass]=\"layoutView\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-grid-box\" [ngClass]=\"grid\" *ngFor=\"let product of products\">\r\n                                                <div class=\"product-box\">\r\n                                                    <app-product-box-one \r\n                                                        [product]=\"product\"\r\n                                                        [currency]=\"productService?.Currency\"\r\n                                                        [thumbnail]=\"false\"\r\n                                                        [cartModal]=\"true\">\r\n                                                    </app-product-box-one>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-sm-12 text-center section-b-space mt-5 no-found\" *ngIf=\"!products.length\">\r\n                                                <img src=\"assets/images/empty-search.jpg\" class=\"img-fluid mb-4\">\r\n                                                <h3>Sorry! Couldn't find the product you were looking For!!! </h3>\r\n                                                <p>Please check if you have misspelt something or try searching with other words.</p>\r\n                                                <a [routerLink]=\"['/shop/collection/left/sidebar']\" class=\"btn btn-solid\">continue shopping</a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- Infinite Scroll -->\r\n                                    <div infiniteScroll \r\n                                        [infiniteScrollDistance]=\"2\"\r\n                                        [infiniteScrollThrottle]=\"1000\" \r\n                                        (scrolled)=\"onScroll()\" \r\n                                        *ngIf=\"products.length\">\r\n                                    </div>\r\n                                    <div class=\"product-infinitescroll\">\r\n                                        <div class=\"theme-paggination-block\">\r\n                                            <div class=\"container-fluid p-0\">\r\n                                                <div class=\"row\">\r\n                                                    <div class=\"text-center col-sm-12\">\r\n                                                        <div class=\"infinite-scrolling mt-3 mb-3 d-inline-block\">\r\n                                                            <img src=\"assets/images/loader.gif\" *ngIf=\"!finished && products.length\">\r\n                                                            <div class=\"loading-more active\" *ngIf=\"finished && products.length\">No More Products</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n<!-- section End -->","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ViewportScroller } from '@angular/common';\r\nimport { ProductService } from \"../../../shared/services/product.service\";\r\nimport { Product } from '../../../shared/classes/product';\r\nimport * as _ from 'lodash'\r\n\r\n@Component({\r\n  selector: 'app-collection-infinitescroll',\r\n  templateUrl: './collection-infinitescroll.component.html',\r\n  styleUrls: ['./collection-infinitescroll.component.scss']\r\n})\r\nexport class CollectionInfinitescrollComponent implements OnInit {\r\n\r\n  public grid: string = 'col-xl-3 col-md-6';\r\n  public layoutView: string = 'grid-view';\r\n  public all_products: any[] = [];\r\n  public products: any[] = [];\r\n  public brands: any[] = [];\r\n  public colors: any[] = [];\r\n  public size: any[] = [];\r\n  public minPrice: number = 0;\r\n  public maxPrice: number = 1200;\r\n  public tags: any[] = [];\r\n  public category: string;\r\n  public pageNo: number = 1;\r\n  public paginate: any = {}; // Pagination use only\r\n  public sortBy: string; // Sorting Order\r\n  public mobileSidebar: boolean = false;\r\n  public loader: boolean = true;\r\n  public finished: boolean = false  // boolean when end of data is reached\r\n  public addItemCount = 8;\r\n\r\n  constructor(private route: ActivatedRoute, private router: Router,\r\n    private viewScroller: ViewportScroller, public productService: ProductService) {   \r\n      // Get Query params..\r\n      this.route.queryParams.subscribe(params => {\r\n        this.products = [];\r\n        this.finished = false;\r\n\r\n        this.brands = params.brand ? params.brand.split(\",\") : [];\r\n        this.colors = params.color ? params.color.split(\",\") : [];\r\n        this.size  = params.size ? params.size.split(\",\")  : [];\r\n        this.minPrice = params.minPrice ? params.minPrice : this.minPrice;\r\n        this.maxPrice = params.maxPrice ? params.maxPrice : this.maxPrice;\r\n        this.tags = [...this.brands, ...this.colors, ...this.size]; // All Tags Array\r\n        \r\n        this.category = params.category ? params.category : null;\r\n        this.sortBy = params.sortBy ? params.sortBy : 'ascending';\r\n\r\n        // Get Filtered Products..\r\n        this.productService.filterProducts(this.tags).subscribe(response => {\r\n\r\n          // All Products\r\n          this.all_products = response;\r\n\r\n          // Sorting Filter\r\n          this.all_products = this.productService.sortProducts(response, this.sortBy);\r\n\r\n          // Category Filter\r\n          if(params.category)\r\n            this.all_products = this.all_products.filter(item => item.type == this.category);\r\n\r\n          // Price Filter\r\n          this.all_products = this.all_products.filter(item => item.price >= this.minPrice && item.price <= this.maxPrice)\r\n    \r\n          this.addItems();\r\n          \r\n        })\r\n      })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  addItems() {\r\n    if(this.all_products.length == this.products.length){\r\n      this.finished = true;\r\n      return\r\n    }\r\n    this.products = this.all_products.slice(0, this.addItemCount);\r\n  }\r\n\r\n  // Infinite scroll\r\n  public onScroll() {\r\n    // add another items\r\n    this.addItemCount += 8;\r\n    this.addItems();\r\n  }\r\n\r\n  // Append filter value to Url\r\n  updateFilter(tags: any) {\r\n    tags.page = null; // Reset Pagination\r\n    this.router.navigate([], { \r\n      relativeTo: this.route,\r\n      queryParams: tags,\r\n      queryParamsHandling: 'merge', // preserve the existing query params in the route\r\n      skipLocationChange: false  // do trigger navigation\r\n    }).finally(() => {\r\n      this.viewScroller.setOffset([120, 120]);\r\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\r\n    });\r\n  }\r\n\r\n  // SortBy Filter\r\n  sortByFilter(value) {\r\n    this.router.navigate([], { \r\n      relativeTo: this.route,\r\n      queryParams: { sortBy: value ? value : null},\r\n      queryParamsHandling: 'merge', // preserve the existing query params in the route\r\n      skipLocationChange: false  // do trigger navigation\r\n    }).finally(() => {\r\n      this.viewScroller.setOffset([120, 120]);\r\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\r\n    });\r\n  }\r\n\r\n  // Remove Tag\r\n  removeTag(tag) {\r\n  \r\n    this.brands = this.brands.filter(val => val !== tag);\r\n    this.colors = this.colors.filter(val => val !== tag);\r\n    this.size = this.size.filter(val => val !== tag);\r\n\r\n    let params = { \r\n      brand: this.brands.length ? this.brands.join(\",\") : null, \r\n      color: this.colors.length ? this.colors.join(\",\") : null,\r\n      size: this.size.length ? this.size.join(\",\") : null\r\n    }\r\n\r\n    this.router.navigate([], { \r\n      relativeTo: this.route,\r\n      queryParams: params,\r\n      queryParamsHandling: 'merge', // preserve the existing query params in the route\r\n      skipLocationChange: false  // do trigger navigation\r\n    }).finally(() => {\r\n      this.viewScroller.setOffset([120, 120]);\r\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\r\n    });\r\n  }\r\n\r\n  // Clear Tags\r\n  removeAllTags() {\r\n    this.router.navigate([], { \r\n      relativeTo: this.route,\r\n      queryParams: {},\r\n      skipLocationChange: false  // do trigger navigation\r\n    }).finally(() => {\r\n      this.viewScroller.setOffset([120, 120]);\r\n      this.viewScroller.scrollToAnchor('products'); // Anchore Link\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  // Change Grid Layout\r\n  updateGridLayout(value: string) {\r\n    this.grid = value;\r\n  }\r\n\r\n  // Change Layout View\r\n  updateLayoutView(value: string) {\r\n    this.layoutView = value;\r\n    if(value == 'list-view')\r\n      this.grid = 'col-lg-12';\r\n    else\r\n      this.grid = 'col-xl-3 col-md-6';\r\n  }\r\n\r\n  // Mobile sidebar\r\n  toggleMobileSidebar() {\r\n    this.mobileSidebar = !this.mobileSidebar;\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}