{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/HP/Desktop/4SE3/PidevSym/PiDev_Spring_Angular/Front-End/frontOffice/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../shared/services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/components/breadcrumb/breadcrumb.component\";\nimport * as i6 from \"../../shared/pipes/discount.pipe\";\nfunction CompareComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"h3\")(3, \"strong\");\n    i0.ɵɵtext(4, \"Compare List is Empty\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"h4\");\n    i0.ɵɵtext(6, \"Explore more shortlist some items.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CompareComponent_div_7_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\", 18)(1, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function CompareComponent_div_7_th_6_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const product_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removeItem(product_r7));\n    });\n    i0.ɵɵtext(2, \" Remove \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CompareComponent_div_7_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, product_r10.title));\n  }\n}\nfunction CompareComponent_div_7_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementStart(2, \"div\", 22)(3, \"strong\");\n    i0.ɵɵtext(4, \"On Sale: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵpipe(8, \"discount\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"form\", 23)(10, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function CompareComponent_div_7_td_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const product_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.addToCart(product_r11));\n    });\n    i0.ɵɵtext(11, \"Add to Cart\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r11 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r11.images[0].src, i0.ɵɵsanitizeUrl)(\"alt\", product_r11.images[0].alt);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(7, 3, i0.ɵɵpipeBind2(8, 7, product_r11.price, product_r11) * (ctx_r4.productService == null ? null : ctx_r4.productService.Currency.price), ctx_r4.productService == null ? null : ctx_r4.productService.Currency.currency, \"symbol\"), \"\");\n  }\n}\nfunction CompareComponent_div_7_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18)(1, \"p\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r14.description.substring(0, 200) + \"...\");\n  }\n}\nfunction CompareComponent_div_7_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 26)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", product_r15.stock > 0 ? \"In stock\" : \"Out of stock\", \" \");\n  }\n}\nfunction CompareComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"table\", 11)(2, \"thead\")(3, \"tr\", 12)(4, \"td\");\n    i0.ɵɵtext(5, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CompareComponent_div_7_th_6_Template, 3, 0, \"th\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tbody\", 14)(8, \"tr\")(9, \"th\", 15);\n    i0.ɵɵtext(10, \"Product Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CompareComponent_div_7_td_11_Template, 3, 3, \"td\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"tr\")(13, \"th\", 15);\n    i0.ɵɵtext(14, \"Product Image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, CompareComponent_div_7_td_15_Template, 12, 10, \"td\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tr\")(17, \"th\", 15);\n    i0.ɵɵtext(18, \"Product Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, CompareComponent_div_7_td_19_Template, 3, 1, \"td\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"tr\")(21, \"th\", 15);\n    i0.ɵɵtext(22, \" Availability \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, CompareComponent_div_7_td_23_Template, 3, 1, \"td\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.products);\n  }\n}\nexport class CompareComponent {\n  constructor(router, productService) {\n    this.router = router;\n    this.productService = productService;\n    this.products = [];\n    this.productService.compareItems.subscribe(response => this.products = response);\n  }\n  ngOnInit() {}\n  addToCart(product) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const status = yield _this.productService.addToCart(product);\n      if (status) {\n        _this.router.navigate(['/shop/cart']);\n      }\n    })();\n  }\n  removeItem(product) {\n    this.productService.removeCompareItem(product);\n  }\n}\nCompareComponent.ɵfac = function CompareComponent_Factory(t) {\n  return new (t || CompareComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nCompareComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CompareComponent,\n  selectors: [[\"app-compare\"]],\n  decls: 8,\n  vars: 4,\n  consts: [[3, \"title\", \"breadcrumb\"], [1, \"compare-padding\"], [1, \"container\"], [1, \"row\"], [1, \"col-sm-12\"], [1, \"compare-page\"], [\"class\", \"col-sm-12 empty-cart-cls text-center\", 4, \"ngIf\"], [\"class\", \"table-wrapper table-responsive\", 4, \"ngIf\"], [1, \"col-sm-12\", \"empty-cart-cls\", \"text-center\"], [\"src\", \"assets/images/empty-compare.png\", 1, \"img-fluid\", \"mb-4\"], [1, \"table-wrapper\", \"table-responsive\"], [1, \"table\"], [1, \"th-compare\"], [\"class\", \"item-row\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"table-compare\"], [1, \"product-name\"], [\"class\", \"grid-link__title\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"available-stock\", 4, \"ngFor\", \"ngForOf\"], [1, \"item-row\"], [\"type\", \"button\", 1, \"remove-compare\", 3, \"click\"], [1, \"grid-link__title\"], [\"width\", \"185\", 1, \"featured-image\", 3, \"src\", \"alt\"], [1, \"product-price\", \"product_price\"], [1, \"variants\", \"clearfix\"], [\"title\", \"Add to Cart\", 1, \"add-to-cart\", \"btn\", \"btn-solid\", 3, \"click\"], [1, \"description-compare\"], [1, \"available-stock\"]],\n  template: function CompareComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-breadcrumb\", 0);\n      i0.ɵɵelementStart(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n      i0.ɵɵtemplate(6, CompareComponent_div_6_Template, 7, 0, \"div\", 6);\n      i0.ɵɵtemplate(7, CompareComponent_div_7_Template, 24, 5, \"div\", 7);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"title\", \"Compare\")(\"breadcrumb\", \"Compare\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !ctx.products.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.products.length);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i5.BreadcrumbComponent, i3.TitleCasePipe, i3.CurrencyPipe, i6.DiscountPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAOqBA,8BAA2E;IACxEA,yBAAmE;IACjEA,0BAAI;IAAQA,qCAAqB;IAAAA,iBAAS;IAC1CA,0BAAI;IAAAA,kDAAkC;IAAAA,iBAAK;;;;;;IAQrCA,8BAAsD;IAC9BA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAmB;IAAA,EAAC;IAAyBA,wBAAO;IAAAA,iBAAS;;;;;IAQ9FA,8BAA8D;IAAAA,YAA+B;;IAAAA,iBAAK;;;;IAApCA,eAA+B;IAA/BA,6DAA+B;;;;;;IAK7FA,8BAAsD;IAClDA,0BAAoG;IACpGA,+BAAyC;IACjCA,yBAAS;IAAAA,iBAAS;IAAAA,4BAAM;IAACA,YAA+H;;;IAAAA,iBAAO;IACvKA,gCAAgC;IACFA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAkB;IAAA,EAAC;IAAmCA,4BAAW;IAAAA,iBAAS;;;;;IAJ5GA,eAA6B;IAA7BA,iEAA6B;IAEDA,eAA+H;IAA/HA,oRAA+H;;;;;IASpKA,8BAAsD;IACnBA,YAAiD;IAAAA,iBAAI;;;;IAArDA,eAAiD;IAAjDA,uEAAiD;;;;;IAMpFA,8BAA6D;IACrDA,YAAsD;IAAAA,iBAAI;;;;IAA1DA,eAAsD;IAAtDA,oFAAsD;;;;;IAxC1EA,+BAAoE;IAKpDA,sBAAM;IAAAA,iBAAK;IACfA,sEAEK;IACTA,iBAAK;IAELA,iCAA0B;IAGGA,6BAAY;IAAAA,iBAAK;IAC1CA,wEAAkG;IACtGA,iBAAK;IAELA,2BAAI;IAC0BA,8BAAa;IAAAA,iBAAK;IAC5CA,0EAOK;IACTA,iBAAK;IAELA,2BAAI;IACyBA,oCAAmB;IAAAA,iBAAK;IACjDA,wEAEK;IACTA,iBAAK;IAELA,2BAAI;IAC0BA,+BAAa;IAAAA,iBAAK;IAC5CA,wEAEK;IACTA,iBAAK;;;;IApCwCA,eAAW;IAAXA,yCAAW;IASHA,eAAW;IAAXA,yCAAW;IAKnBA,eAAW;IAAXA,yCAAW;IAYXA,eAAW;IAAXA,yCAAW;IAOJA,eAAW;IAAXA,yCAAW;;;ACzC3F,OAAM,MAAOC,gBAAgB;EAI3BC,YAAoBC,MAAc,EACzBC,cAA8B;IADnB,WAAM,GAAND,MAAM;IACjB,mBAAc,GAAdC,cAAc;IAHhB,aAAQ,GAAc,EAAE;IAI7B,IAAI,CAACA,cAAc,CAACC,YAAY,CAACC,SAAS,CAACC,QAAQ,IAAI,IAAI,CAACC,QAAQ,GAAGD,QAAQ,CAAC;EAClF;EAEAE,QAAQ,IACR;EAEMC,SAAS,CAACC,OAAY;IAAA;IAAA;MAC1B,MAAMC,MAAM,SAAS,KAAI,CAACR,cAAc,CAACM,SAAS,CAACC,OAAO,CAAC;MAC3D,IAAGC,MAAM,EAAE;QACT,KAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;;IACrC;EACH;EAEAC,UAAU,CAACH,OAAY;IACrB,IAAI,CAACP,cAAc,CAACW,iBAAiB,CAACJ,OAAO,CAAC;EAChD;;AArBWV,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV7BpB,oCAA8E;MAE9EA,kCAAiC;MAKZA,iEAIK;MACNA,kEA6CM;MACVA,iBAAM;;;MA1DNA,iCAAmB;MAOqCA,eAAsB;MAAtBA,2CAAsB;MAK7BA,eAAqB;MAArBA,0CAAqB","names":["i0","CompareComponent","constructor","router","productService","compareItems","subscribe","response","products","ngOnInit","addToCart","product","status","navigate","removeItem","removeCompareItem","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\compare\\compare.component.html","C:\\Users\\HP\\Desktop\\4SE3\\PidevSym\\PiDev_Spring_Angular\\Front-End\\frontOffice\\src\\app\\shop\\compare\\compare.component.ts"],"sourcesContent":["<app-breadcrumb [title]=\"'Compare'\" [breadcrumb]=\"'Compare'\"></app-breadcrumb>\r\n<!-- section start -->\r\n<section class=\"compare-padding\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <div class=\"compare-page\">\r\n                     <div class=\"col-sm-12 empty-cart-cls text-center\" *ngIf=\"!products.length\">\r\n                        <img src=\"assets/images/empty-compare.png\" class=\"img-fluid mb-4\" >\r\n                          <h3><strong>Compare List is Empty</strong></h3>\r\n                          <h4>Explore more shortlist some items.</h4>\r\n                    </div>\r\n                    <div class=\"table-wrapper table-responsive\" *ngIf=\"products.length\">\r\n                        <table class=\"table\">\r\n                            \r\n                            <thead>\r\n                            <tr class=\"th-compare\">\r\n                                <td>Action</td>\r\n                                <th class=\"item-row\" *ngFor=\"let product of products\">\r\n                                  <button type=\"button\" (click)=\"removeItem(product)\" class=\"remove-compare\"> Remove </button>\r\n                                </th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody id=\"table-compare\">\r\n                            <!-- Product Name -->\r\n                            <tr>\r\n                                <th class=\"product-name\">Product Name</th>\r\n                                <td class=\"grid-link__title\" *ngFor=\"let product of products\">{{ product.title | titlecase }}</td>\r\n                            </tr>\r\n                            <!-- Product Image -->\r\n                            <tr>\r\n                                <th class=\"product-name \">Product Image</th>\r\n                                <td class=\"item-row\" *ngFor=\"let product of products\">\r\n                                    <img [src]=\"product.images[0].src\" [alt]=\"product.images[0].alt\" width=\"185\" class=\"featured-image\">\r\n                                    <div class=\"product-price product_price\"> \r\n                                    <strong>On Sale: </strong><span> {{ (product.price | discount:product) * productService?.Currency.price | currency:productService?.Currency.currency:'symbol' }}</span></div>\r\n                                    <form class=\"variants clearfix\">\r\n                                      <button title=\"Add to Cart\" (click)=\"addToCart(product)\" class=\"add-to-cart btn btn-solid\">Add to Cart</button>\r\n                                    </form>\r\n                                </td>\r\n                            </tr>\r\n                            <!-- Product Description -->\r\n                            <tr>\r\n                                <th class=\"product-name\">Product Description</th>\r\n                                <td class=\"item-row\" *ngFor=\"let product of products\">\r\n                                    <p class=\"description-compare\">{{ product.description.substring(0, 200)+'...' }}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <!-- Product Availability -->\r\n                            <tr>\r\n                                <th class=\"product-name\"> Availability </th>\r\n                                <td class=\"available-stock\" *ngFor=\"let product of products\">\r\n                                    <p> {{ product.stock > 0 ? 'In stock' : 'Out of stock' }} </p>\r\n                                </td>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n<!-- Section ends -->","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ProductService } from \"../../shared/services/product.service\";\r\nimport { Product } from \"../../shared/classes/product\";\r\n\r\n@Component({\r\n  selector: 'app-compare',\r\n  templateUrl: './compare.component.html',\r\n  styleUrls: ['./compare.component.scss']\r\n})\r\nexport class CompareComponent implements OnInit {\r\n\r\n  public products: Product[] = [];\r\n\r\n  constructor(private router: Router, \r\n    public productService: ProductService) {\r\n    this.productService.compareItems.subscribe(response => this.products = response);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async addToCart(product: any) {\r\n    const status = await this.productService.addToCart(product);\r\n    if(status) {\r\n      this.router.navigate(['/shop/cart']);\r\n    }\r\n  }\r\n\r\n  removeItem(product: any) {\r\n    this.productService.removeCompareItem(product);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}