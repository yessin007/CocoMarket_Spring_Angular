{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../../util/root');\nvar tryCatch_1 = require('../../util/tryCatch');\nvar errorObject_1 = require('../../util/errorObject');\nvar Observable_1 = require('../../Observable');\nvar Subscriber_1 = require('../../Subscriber');\nvar map_1 = require('../../operators/map');\nfunction getCORSRequest() {\n  if (root_1.root.XMLHttpRequest) {\n    return new root_1.root.XMLHttpRequest();\n  } else if (!!root_1.root.XDomainRequest) {\n    return new root_1.root.XDomainRequest();\n  } else {\n    throw new Error('CORS is not supported by your browser');\n  }\n}\nfunction getXMLHttpRequest() {\n  if (root_1.root.XMLHttpRequest) {\n    return new root_1.root.XMLHttpRequest();\n  } else {\n    var progId = void 0;\n    try {\n      var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n      for (var i = 0; i < 3; i++) {\n        try {\n          progId = progIds[i];\n          if (new root_1.root.ActiveXObject(progId)) {\n            break;\n          }\n        } catch (e) {}\n      }\n      return new root_1.root.ActiveXObject(progId);\n    } catch (e) {\n      throw new Error('XMLHttpRequest is not supported by your browser');\n    }\n  }\n}\nfunction ajaxGet(url, headers) {\n  if (headers === void 0) {\n    headers = null;\n  }\n  return new AjaxObservable({\n    method: 'GET',\n    url: url,\n    headers: headers\n  });\n}\nexports.ajaxGet = ajaxGet;\n;\nfunction ajaxPost(url, body, headers) {\n  return new AjaxObservable({\n    method: 'POST',\n    url: url,\n    body: body,\n    headers: headers\n  });\n}\nexports.ajaxPost = ajaxPost;\n;\nfunction ajaxDelete(url, headers) {\n  return new AjaxObservable({\n    method: 'DELETE',\n    url: url,\n    headers: headers\n  });\n}\nexports.ajaxDelete = ajaxDelete;\n;\nfunction ajaxPut(url, body, headers) {\n  return new AjaxObservable({\n    method: 'PUT',\n    url: url,\n    body: body,\n    headers: headers\n  });\n}\nexports.ajaxPut = ajaxPut;\n;\nfunction ajaxPatch(url, body, headers) {\n  return new AjaxObservable({\n    method: 'PATCH',\n    url: url,\n    body: body,\n    headers: headers\n  });\n}\nexports.ajaxPatch = ajaxPatch;\n;\nvar mapResponse = map_1.map(function (x, index) {\n  return x.response;\n});\nfunction ajaxGetJSON(url, headers) {\n  return mapResponse(new AjaxObservable({\n    method: 'GET',\n    url: url,\n    responseType: 'json',\n    headers: headers\n  }));\n}\nexports.ajaxGetJSON = ajaxGetJSON;\n;\n/**\r\n * We need this JSDoc comment for affecting ESDoc.\r\n * @extends {Ignored}\r\n * @hide true\r\n */\nvar AjaxObservable = function (_super) {\n  __extends(AjaxObservable, _super);\n  function AjaxObservable(urlOrRequest) {\n    _super.call(this);\n    var request = {\n      async: true,\n      createXHR: function () {\n        return this.crossDomain ? getCORSRequest.call(this) : getXMLHttpRequest();\n      },\n      crossDomain: false,\n      withCredentials: false,\n      headers: {},\n      method: 'GET',\n      responseType: 'json',\n      timeout: 0\n    };\n    if (typeof urlOrRequest === 'string') {\n      request.url = urlOrRequest;\n    } else {\n      for (var prop in urlOrRequest) {\n        if (urlOrRequest.hasOwnProperty(prop)) {\n          request[prop] = urlOrRequest[prop];\n        }\n      }\n    }\n    this.request = request;\n  }\n  /** @deprecated internal use only */\n  AjaxObservable.prototype._subscribe = function (subscriber) {\n    return new AjaxSubscriber(subscriber, this.request);\n  };\n  /**\r\n   * Creates an observable for an Ajax request with either a request object with\r\n   * url, headers, etc or a string for a URL.\r\n   *\r\n   * @example\r\n   * source = Rx.Observable.ajax('/products');\r\n   * source = Rx.Observable.ajax({ url: 'products', method: 'GET' });\r\n   *\r\n   * @param {string|Object} request Can be one of the following:\r\n   *   A string of the URL to make the Ajax call.\r\n   *   An object with the following properties\r\n   *   - url: URL of the request\r\n   *   - body: The body of the request\r\n   *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE\r\n   *   - async: Whether the request is async\r\n   *   - headers: Optional headers\r\n   *   - crossDomain: true if a cross domain request, else false\r\n   *   - createXHR: a function to override if you need to use an alternate\r\n   *   XMLHttpRequest implementation.\r\n   *   - resultSelector: a function to use to alter the output value type of\r\n   *   the Observable. Gets {@link AjaxResponse} as an argument.\r\n   * @return {Observable} An observable sequence containing the XMLHttpRequest.\r\n   * @static true\r\n   * @name ajax\r\n   * @owner Observable\r\n  */\n  AjaxObservable.create = function () {\n    var create = function (urlOrRequest) {\n      return new AjaxObservable(urlOrRequest);\n    };\n    create.get = ajaxGet;\n    create.post = ajaxPost;\n    create.delete = ajaxDelete;\n    create.put = ajaxPut;\n    create.patch = ajaxPatch;\n    create.getJSON = ajaxGetJSON;\n    return create;\n  }();\n  return AjaxObservable;\n}(Observable_1.Observable);\nexports.AjaxObservable = AjaxObservable;\n/**\r\n * We need this JSDoc comment for affecting ESDoc.\r\n * @ignore\r\n * @extends {Ignored}\r\n */\nvar AjaxSubscriber = function (_super) {\n  __extends(AjaxSubscriber, _super);\n  function AjaxSubscriber(destination, request) {\n    _super.call(this, destination);\n    this.request = request;\n    this.done = false;\n    var headers = request.headers = request.headers || {};\n    // force CORS if requested\n    if (!request.crossDomain && !headers['X-Requested-With']) {\n      headers['X-Requested-With'] = 'XMLHttpRequest';\n    }\n    // ensure content type is set\n    if (!('Content-Type' in headers) && !(root_1.root.FormData && request.body instanceof root_1.root.FormData) && typeof request.body !== 'undefined') {\n      headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n    }\n    // properly serialize body\n    request.body = this.serializeBody(request.body, request.headers['Content-Type']);\n    this.send();\n  }\n  AjaxSubscriber.prototype.next = function (e) {\n    this.done = true;\n    var _a = this,\n      xhr = _a.xhr,\n      request = _a.request,\n      destination = _a.destination;\n    var response = new AjaxResponse(e, xhr, request);\n    destination.next(response);\n  };\n  AjaxSubscriber.prototype.send = function () {\n    var _a = this,\n      request = _a.request,\n      _b = _a.request,\n      user = _b.user,\n      method = _b.method,\n      url = _b.url,\n      async = _b.async,\n      password = _b.password,\n      headers = _b.headers,\n      body = _b.body;\n    var createXHR = request.createXHR;\n    var xhr = tryCatch_1.tryCatch(createXHR).call(request);\n    if (xhr === errorObject_1.errorObject) {\n      this.error(errorObject_1.errorObject.e);\n    } else {\n      this.xhr = xhr;\n      // set up the events before open XHR\n      // https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\n      // You need to add the event listeners before calling open() on the request.\n      // Otherwise the progress events will not fire.\n      this.setupEvents(xhr, request);\n      // open XHR\n      var result = void 0;\n      if (user) {\n        result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async, user, password);\n      } else {\n        result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async);\n      }\n      if (result === errorObject_1.errorObject) {\n        this.error(errorObject_1.errorObject.e);\n        return null;\n      }\n      // timeout, responseType and withCredentials can be set once the XHR is open\n      if (async) {\n        xhr.timeout = request.timeout;\n        xhr.responseType = request.responseType;\n      }\n      if ('withCredentials' in xhr) {\n        xhr.withCredentials = !!request.withCredentials;\n      }\n      // set headers\n      this.setHeaders(xhr, headers);\n      // finally send the request\n      result = body ? tryCatch_1.tryCatch(xhr.send).call(xhr, body) : tryCatch_1.tryCatch(xhr.send).call(xhr);\n      if (result === errorObject_1.errorObject) {\n        this.error(errorObject_1.errorObject.e);\n        return null;\n      }\n    }\n    return xhr;\n  };\n  AjaxSubscriber.prototype.serializeBody = function (body, contentType) {\n    if (!body || typeof body === 'string') {\n      return body;\n    } else if (root_1.root.FormData && body instanceof root_1.root.FormData) {\n      return body;\n    }\n    if (contentType) {\n      var splitIndex = contentType.indexOf(';');\n      if (splitIndex !== -1) {\n        contentType = contentType.substring(0, splitIndex);\n      }\n    }\n    switch (contentType) {\n      case 'application/x-www-form-urlencoded':\n        return Object.keys(body).map(function (key) {\n          return encodeURIComponent(key) + \"=\" + encodeURIComponent(body[key]);\n        }).join('&');\n      case 'application/json':\n        return JSON.stringify(body);\n      default:\n        return body;\n    }\n  };\n  AjaxSubscriber.prototype.setHeaders = function (xhr, headers) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  };\n  AjaxSubscriber.prototype.setupEvents = function (xhr, request) {\n    var progressSubscriber = request.progressSubscriber;\n    function xhrTimeout(e) {\n      var _a = xhrTimeout,\n        subscriber = _a.subscriber,\n        progressSubscriber = _a.progressSubscriber,\n        request = _a.request;\n      if (progressSubscriber) {\n        progressSubscriber.error(e);\n      }\n      subscriber.error(new AjaxTimeoutError(this, request)); //TODO: Make betterer.\n    }\n\n    ;\n    xhr.ontimeout = xhrTimeout;\n    xhrTimeout.request = request;\n    xhrTimeout.subscriber = this;\n    xhrTimeout.progressSubscriber = progressSubscriber;\n    if (xhr.upload && 'withCredentials' in xhr) {\n      if (progressSubscriber) {\n        var xhrProgress_1;\n        xhrProgress_1 = function (e) {\n          var progressSubscriber = xhrProgress_1.progressSubscriber;\n          progressSubscriber.next(e);\n        };\n        if (root_1.root.XDomainRequest) {\n          xhr.onprogress = xhrProgress_1;\n        } else {\n          xhr.upload.onprogress = xhrProgress_1;\n        }\n        xhrProgress_1.progressSubscriber = progressSubscriber;\n      }\n      var xhrError_1;\n      xhrError_1 = function (e) {\n        var _a = xhrError_1,\n          progressSubscriber = _a.progressSubscriber,\n          subscriber = _a.subscriber,\n          request = _a.request;\n        if (progressSubscriber) {\n          progressSubscriber.error(e);\n        }\n        subscriber.error(new AjaxError('ajax error', this, request));\n      };\n      xhr.onerror = xhrError_1;\n      xhrError_1.request = request;\n      xhrError_1.subscriber = this;\n      xhrError_1.progressSubscriber = progressSubscriber;\n    }\n    function xhrReadyStateChange(e) {\n      var _a = xhrReadyStateChange,\n        subscriber = _a.subscriber,\n        progressSubscriber = _a.progressSubscriber,\n        request = _a.request;\n      if (this.readyState === 4) {\n        // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n        var status_1 = this.status === 1223 ? 204 : this.status;\n        var response = this.responseType === 'text' ? this.response || this.responseText : this.response;\n        // fix status code when it is 0 (0 status is undocumented).\n        // Occurs when accessing file resources or on Android 4.1 stock browser\n        // while retrieving files from application cache.\n        if (status_1 === 0) {\n          status_1 = response ? 200 : 0;\n        }\n        if (200 <= status_1 && status_1 < 300) {\n          if (progressSubscriber) {\n            progressSubscriber.complete();\n          }\n          subscriber.next(e);\n          subscriber.complete();\n        } else {\n          if (progressSubscriber) {\n            progressSubscriber.error(e);\n          }\n          subscriber.error(new AjaxError('ajax error ' + status_1, this, request));\n        }\n      }\n    }\n    ;\n    xhr.onreadystatechange = xhrReadyStateChange;\n    xhrReadyStateChange.subscriber = this;\n    xhrReadyStateChange.progressSubscriber = progressSubscriber;\n    xhrReadyStateChange.request = request;\n  };\n  AjaxSubscriber.prototype.unsubscribe = function () {\n    var _a = this,\n      done = _a.done,\n      xhr = _a.xhr;\n    if (!done && xhr && xhr.readyState !== 4 && typeof xhr.abort === 'function') {\n      xhr.abort();\n    }\n    _super.prototype.unsubscribe.call(this);\n  };\n  return AjaxSubscriber;\n}(Subscriber_1.Subscriber);\nexports.AjaxSubscriber = AjaxSubscriber;\n/**\r\n * A normalized AJAX response.\r\n *\r\n * @see {@link ajax}\r\n *\r\n * @class AjaxResponse\r\n */\nvar AjaxResponse = function () {\n  function AjaxResponse(originalEvent, xhr, request) {\n    this.originalEvent = originalEvent;\n    this.xhr = xhr;\n    this.request = request;\n    this.status = xhr.status;\n    this.responseType = xhr.responseType || request.responseType;\n    this.response = parseXhrResponse(this.responseType, xhr);\n  }\n  return AjaxResponse;\n}();\nexports.AjaxResponse = AjaxResponse;\n/**\r\n * A normalized AJAX error.\r\n *\r\n * @see {@link ajax}\r\n *\r\n * @class AjaxError\r\n */\nvar AjaxError = function (_super) {\n  __extends(AjaxError, _super);\n  function AjaxError(message, xhr, request) {\n    _super.call(this, message);\n    this.message = message;\n    this.xhr = xhr;\n    this.request = request;\n    this.status = xhr.status;\n    this.responseType = xhr.responseType || request.responseType;\n    this.response = parseXhrResponse(this.responseType, xhr);\n  }\n  return AjaxError;\n}(Error);\nexports.AjaxError = AjaxError;\nfunction parseXhrResponse(responseType, xhr) {\n  switch (responseType) {\n    case 'json':\n      if ('response' in xhr) {\n        //IE does not support json as responseType, parse it internally\n        return xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || 'null');\n      } else {\n        // HACK(benlesh): TypeScript shennanigans\n        // tslint:disable-next-line:no-any latest TS seems to think xhr is \"never\" here.\n        return JSON.parse(xhr.responseText || 'null');\n      }\n    case 'xml':\n      return xhr.responseXML;\n    case 'text':\n    default:\n      // HACK(benlesh): TypeScript shennanigans\n      // tslint:disable-next-line:no-any latest TS seems to think xhr is \"never\" here.\n      return 'response' in xhr ? xhr.response : xhr.responseText;\n  }\n}\n/**\r\n * @see {@link ajax}\r\n *\r\n * @class AjaxTimeoutError\r\n */\nvar AjaxTimeoutError = function (_super) {\n  __extends(AjaxTimeoutError, _super);\n  function AjaxTimeoutError(xhr, request) {\n    _super.call(this, 'ajax timeout', xhr, request);\n  }\n  return AjaxTimeoutError;\n}(AjaxError);\nexports.AjaxTimeoutError = AjaxTimeoutError;","map":{"version":3,"names":["__extends","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","root_1","require","tryCatch_1","errorObject_1","Observable_1","Subscriber_1","map_1","getCORSRequest","root","XMLHttpRequest","XDomainRequest","Error","getXMLHttpRequest","progId","progIds","i","ActiveXObject","e","ajaxGet","url","headers","AjaxObservable","method","exports","ajaxPost","body","ajaxDelete","ajaxPut","ajaxPatch","mapResponse","map","x","index","response","ajaxGetJSON","responseType","_super","urlOrRequest","call","request","async","createXHR","crossDomain","withCredentials","timeout","prop","_subscribe","subscriber","AjaxSubscriber","get","post","delete","put","patch","getJSON","Observable","destination","done","FormData","serializeBody","send","next","_a","xhr","AjaxResponse","_b","user","password","tryCatch","errorObject","error","setupEvents","result","open","setHeaders","contentType","splitIndex","indexOf","substring","keys","key","encodeURIComponent","join","JSON","stringify","setRequestHeader","progressSubscriber","xhrTimeout","AjaxTimeoutError","ontimeout","upload","xhrProgress_1","onprogress","xhrError_1","AjaxError","onerror","xhrReadyStateChange","readyState","status_1","status","responseText","complete","onreadystatechange","unsubscribe","abort","Subscriber","originalEvent","parseXhrResponse","message","parse","responseXML"],"sources":["C:/Users/HP/Desktop/4SE3/PidevSym/PiDev_Spring_Angular/Front-End/frontOffice/node_modules/ng5-slider/node_modules/rxjs/observable/dom/AjaxObservable.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar root_1 = require('../../util/root');\r\nvar tryCatch_1 = require('../../util/tryCatch');\r\nvar errorObject_1 = require('../../util/errorObject');\r\nvar Observable_1 = require('../../Observable');\r\nvar Subscriber_1 = require('../../Subscriber');\r\nvar map_1 = require('../../operators/map');\r\nfunction getCORSRequest() {\r\n    if (root_1.root.XMLHttpRequest) {\r\n        return new root_1.root.XMLHttpRequest();\r\n    }\r\n    else if (!!root_1.root.XDomainRequest) {\r\n        return new root_1.root.XDomainRequest();\r\n    }\r\n    else {\r\n        throw new Error('CORS is not supported by your browser');\r\n    }\r\n}\r\nfunction getXMLHttpRequest() {\r\n    if (root_1.root.XMLHttpRequest) {\r\n        return new root_1.root.XMLHttpRequest();\r\n    }\r\n    else {\r\n        var progId = void 0;\r\n        try {\r\n            var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\r\n            for (var i = 0; i < 3; i++) {\r\n                try {\r\n                    progId = progIds[i];\r\n                    if (new root_1.root.ActiveXObject(progId)) {\r\n                        break;\r\n                    }\r\n                }\r\n                catch (e) {\r\n                }\r\n            }\r\n            return new root_1.root.ActiveXObject(progId);\r\n        }\r\n        catch (e) {\r\n            throw new Error('XMLHttpRequest is not supported by your browser');\r\n        }\r\n    }\r\n}\r\nfunction ajaxGet(url, headers) {\r\n    if (headers === void 0) { headers = null; }\r\n    return new AjaxObservable({ method: 'GET', url: url, headers: headers });\r\n}\r\nexports.ajaxGet = ajaxGet;\r\n;\r\nfunction ajaxPost(url, body, headers) {\r\n    return new AjaxObservable({ method: 'POST', url: url, body: body, headers: headers });\r\n}\r\nexports.ajaxPost = ajaxPost;\r\n;\r\nfunction ajaxDelete(url, headers) {\r\n    return new AjaxObservable({ method: 'DELETE', url: url, headers: headers });\r\n}\r\nexports.ajaxDelete = ajaxDelete;\r\n;\r\nfunction ajaxPut(url, body, headers) {\r\n    return new AjaxObservable({ method: 'PUT', url: url, body: body, headers: headers });\r\n}\r\nexports.ajaxPut = ajaxPut;\r\n;\r\nfunction ajaxPatch(url, body, headers) {\r\n    return new AjaxObservable({ method: 'PATCH', url: url, body: body, headers: headers });\r\n}\r\nexports.ajaxPatch = ajaxPatch;\r\n;\r\nvar mapResponse = map_1.map(function (x, index) { return x.response; });\r\nfunction ajaxGetJSON(url, headers) {\r\n    return mapResponse(new AjaxObservable({\r\n        method: 'GET',\r\n        url: url,\r\n        responseType: 'json',\r\n        headers: headers\r\n    }));\r\n}\r\nexports.ajaxGetJSON = ajaxGetJSON;\r\n;\r\n/**\r\n * We need this JSDoc comment for affecting ESDoc.\r\n * @extends {Ignored}\r\n * @hide true\r\n */\r\nvar AjaxObservable = (function (_super) {\r\n    __extends(AjaxObservable, _super);\r\n    function AjaxObservable(urlOrRequest) {\r\n        _super.call(this);\r\n        var request = {\r\n            async: true,\r\n            createXHR: function () {\r\n                return this.crossDomain ? getCORSRequest.call(this) : getXMLHttpRequest();\r\n            },\r\n            crossDomain: false,\r\n            withCredentials: false,\r\n            headers: {},\r\n            method: 'GET',\r\n            responseType: 'json',\r\n            timeout: 0\r\n        };\r\n        if (typeof urlOrRequest === 'string') {\r\n            request.url = urlOrRequest;\r\n        }\r\n        else {\r\n            for (var prop in urlOrRequest) {\r\n                if (urlOrRequest.hasOwnProperty(prop)) {\r\n                    request[prop] = urlOrRequest[prop];\r\n                }\r\n            }\r\n        }\r\n        this.request = request;\r\n    }\r\n    /** @deprecated internal use only */ AjaxObservable.prototype._subscribe = function (subscriber) {\r\n        return new AjaxSubscriber(subscriber, this.request);\r\n    };\r\n    /**\r\n     * Creates an observable for an Ajax request with either a request object with\r\n     * url, headers, etc or a string for a URL.\r\n     *\r\n     * @example\r\n     * source = Rx.Observable.ajax('/products');\r\n     * source = Rx.Observable.ajax({ url: 'products', method: 'GET' });\r\n     *\r\n     * @param {string|Object} request Can be one of the following:\r\n     *   A string of the URL to make the Ajax call.\r\n     *   An object with the following properties\r\n     *   - url: URL of the request\r\n     *   - body: The body of the request\r\n     *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE\r\n     *   - async: Whether the request is async\r\n     *   - headers: Optional headers\r\n     *   - crossDomain: true if a cross domain request, else false\r\n     *   - createXHR: a function to override if you need to use an alternate\r\n     *   XMLHttpRequest implementation.\r\n     *   - resultSelector: a function to use to alter the output value type of\r\n     *   the Observable. Gets {@link AjaxResponse} as an argument.\r\n     * @return {Observable} An observable sequence containing the XMLHttpRequest.\r\n     * @static true\r\n     * @name ajax\r\n     * @owner Observable\r\n    */\r\n    AjaxObservable.create = (function () {\r\n        var create = function (urlOrRequest) {\r\n            return new AjaxObservable(urlOrRequest);\r\n        };\r\n        create.get = ajaxGet;\r\n        create.post = ajaxPost;\r\n        create.delete = ajaxDelete;\r\n        create.put = ajaxPut;\r\n        create.patch = ajaxPatch;\r\n        create.getJSON = ajaxGetJSON;\r\n        return create;\r\n    })();\r\n    return AjaxObservable;\r\n}(Observable_1.Observable));\r\nexports.AjaxObservable = AjaxObservable;\r\n/**\r\n * We need this JSDoc comment for affecting ESDoc.\r\n * @ignore\r\n * @extends {Ignored}\r\n */\r\nvar AjaxSubscriber = (function (_super) {\r\n    __extends(AjaxSubscriber, _super);\r\n    function AjaxSubscriber(destination, request) {\r\n        _super.call(this, destination);\r\n        this.request = request;\r\n        this.done = false;\r\n        var headers = request.headers = request.headers || {};\r\n        // force CORS if requested\r\n        if (!request.crossDomain && !headers['X-Requested-With']) {\r\n            headers['X-Requested-With'] = 'XMLHttpRequest';\r\n        }\r\n        // ensure content type is set\r\n        if (!('Content-Type' in headers) && !(root_1.root.FormData && request.body instanceof root_1.root.FormData) && typeof request.body !== 'undefined') {\r\n            headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\r\n        }\r\n        // properly serialize body\r\n        request.body = this.serializeBody(request.body, request.headers['Content-Type']);\r\n        this.send();\r\n    }\r\n    AjaxSubscriber.prototype.next = function (e) {\r\n        this.done = true;\r\n        var _a = this, xhr = _a.xhr, request = _a.request, destination = _a.destination;\r\n        var response = new AjaxResponse(e, xhr, request);\r\n        destination.next(response);\r\n    };\r\n    AjaxSubscriber.prototype.send = function () {\r\n        var _a = this, request = _a.request, _b = _a.request, user = _b.user, method = _b.method, url = _b.url, async = _b.async, password = _b.password, headers = _b.headers, body = _b.body;\r\n        var createXHR = request.createXHR;\r\n        var xhr = tryCatch_1.tryCatch(createXHR).call(request);\r\n        if (xhr === errorObject_1.errorObject) {\r\n            this.error(errorObject_1.errorObject.e);\r\n        }\r\n        else {\r\n            this.xhr = xhr;\r\n            // set up the events before open XHR\r\n            // https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\r\n            // You need to add the event listeners before calling open() on the request.\r\n            // Otherwise the progress events will not fire.\r\n            this.setupEvents(xhr, request);\r\n            // open XHR\r\n            var result = void 0;\r\n            if (user) {\r\n                result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async, user, password);\r\n            }\r\n            else {\r\n                result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async);\r\n            }\r\n            if (result === errorObject_1.errorObject) {\r\n                this.error(errorObject_1.errorObject.e);\r\n                return null;\r\n            }\r\n            // timeout, responseType and withCredentials can be set once the XHR is open\r\n            if (async) {\r\n                xhr.timeout = request.timeout;\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if ('withCredentials' in xhr) {\r\n                xhr.withCredentials = !!request.withCredentials;\r\n            }\r\n            // set headers\r\n            this.setHeaders(xhr, headers);\r\n            // finally send the request\r\n            result = body ? tryCatch_1.tryCatch(xhr.send).call(xhr, body) : tryCatch_1.tryCatch(xhr.send).call(xhr);\r\n            if (result === errorObject_1.errorObject) {\r\n                this.error(errorObject_1.errorObject.e);\r\n                return null;\r\n            }\r\n        }\r\n        return xhr;\r\n    };\r\n    AjaxSubscriber.prototype.serializeBody = function (body, contentType) {\r\n        if (!body || typeof body === 'string') {\r\n            return body;\r\n        }\r\n        else if (root_1.root.FormData && body instanceof root_1.root.FormData) {\r\n            return body;\r\n        }\r\n        if (contentType) {\r\n            var splitIndex = contentType.indexOf(';');\r\n            if (splitIndex !== -1) {\r\n                contentType = contentType.substring(0, splitIndex);\r\n            }\r\n        }\r\n        switch (contentType) {\r\n            case 'application/x-www-form-urlencoded':\r\n                return Object.keys(body).map(function (key) { return (encodeURIComponent(key) + \"=\" + encodeURIComponent(body[key])); }).join('&');\r\n            case 'application/json':\r\n                return JSON.stringify(body);\r\n            default:\r\n                return body;\r\n        }\r\n    };\r\n    AjaxSubscriber.prototype.setHeaders = function (xhr, headers) {\r\n        for (var key in headers) {\r\n            if (headers.hasOwnProperty(key)) {\r\n                xhr.setRequestHeader(key, headers[key]);\r\n            }\r\n        }\r\n    };\r\n    AjaxSubscriber.prototype.setupEvents = function (xhr, request) {\r\n        var progressSubscriber = request.progressSubscriber;\r\n        function xhrTimeout(e) {\r\n            var _a = xhrTimeout, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\r\n            if (progressSubscriber) {\r\n                progressSubscriber.error(e);\r\n            }\r\n            subscriber.error(new AjaxTimeoutError(this, request)); //TODO: Make betterer.\r\n        }\r\n        ;\r\n        xhr.ontimeout = xhrTimeout;\r\n        xhrTimeout.request = request;\r\n        xhrTimeout.subscriber = this;\r\n        xhrTimeout.progressSubscriber = progressSubscriber;\r\n        if (xhr.upload && 'withCredentials' in xhr) {\r\n            if (progressSubscriber) {\r\n                var xhrProgress_1;\r\n                xhrProgress_1 = function (e) {\r\n                    var progressSubscriber = xhrProgress_1.progressSubscriber;\r\n                    progressSubscriber.next(e);\r\n                };\r\n                if (root_1.root.XDomainRequest) {\r\n                    xhr.onprogress = xhrProgress_1;\r\n                }\r\n                else {\r\n                    xhr.upload.onprogress = xhrProgress_1;\r\n                }\r\n                xhrProgress_1.progressSubscriber = progressSubscriber;\r\n            }\r\n            var xhrError_1;\r\n            xhrError_1 = function (e) {\r\n                var _a = xhrError_1, progressSubscriber = _a.progressSubscriber, subscriber = _a.subscriber, request = _a.request;\r\n                if (progressSubscriber) {\r\n                    progressSubscriber.error(e);\r\n                }\r\n                subscriber.error(new AjaxError('ajax error', this, request));\r\n            };\r\n            xhr.onerror = xhrError_1;\r\n            xhrError_1.request = request;\r\n            xhrError_1.subscriber = this;\r\n            xhrError_1.progressSubscriber = progressSubscriber;\r\n        }\r\n        function xhrReadyStateChange(e) {\r\n            var _a = xhrReadyStateChange, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\r\n            if (this.readyState === 4) {\r\n                // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\r\n                var status_1 = this.status === 1223 ? 204 : this.status;\r\n                var response = (this.responseType === 'text' ? (this.response || this.responseText) : this.response);\r\n                // fix status code when it is 0 (0 status is undocumented).\r\n                // Occurs when accessing file resources or on Android 4.1 stock browser\r\n                // while retrieving files from application cache.\r\n                if (status_1 === 0) {\r\n                    status_1 = response ? 200 : 0;\r\n                }\r\n                if (200 <= status_1 && status_1 < 300) {\r\n                    if (progressSubscriber) {\r\n                        progressSubscriber.complete();\r\n                    }\r\n                    subscriber.next(e);\r\n                    subscriber.complete();\r\n                }\r\n                else {\r\n                    if (progressSubscriber) {\r\n                        progressSubscriber.error(e);\r\n                    }\r\n                    subscriber.error(new AjaxError('ajax error ' + status_1, this, request));\r\n                }\r\n            }\r\n        }\r\n        ;\r\n        xhr.onreadystatechange = xhrReadyStateChange;\r\n        xhrReadyStateChange.subscriber = this;\r\n        xhrReadyStateChange.progressSubscriber = progressSubscriber;\r\n        xhrReadyStateChange.request = request;\r\n    };\r\n    AjaxSubscriber.prototype.unsubscribe = function () {\r\n        var _a = this, done = _a.done, xhr = _a.xhr;\r\n        if (!done && xhr && xhr.readyState !== 4 && typeof xhr.abort === 'function') {\r\n            xhr.abort();\r\n        }\r\n        _super.prototype.unsubscribe.call(this);\r\n    };\r\n    return AjaxSubscriber;\r\n}(Subscriber_1.Subscriber));\r\nexports.AjaxSubscriber = AjaxSubscriber;\r\n/**\r\n * A normalized AJAX response.\r\n *\r\n * @see {@link ajax}\r\n *\r\n * @class AjaxResponse\r\n */\r\nvar AjaxResponse = (function () {\r\n    function AjaxResponse(originalEvent, xhr, request) {\r\n        this.originalEvent = originalEvent;\r\n        this.xhr = xhr;\r\n        this.request = request;\r\n        this.status = xhr.status;\r\n        this.responseType = xhr.responseType || request.responseType;\r\n        this.response = parseXhrResponse(this.responseType, xhr);\r\n    }\r\n    return AjaxResponse;\r\n}());\r\nexports.AjaxResponse = AjaxResponse;\r\n/**\r\n * A normalized AJAX error.\r\n *\r\n * @see {@link ajax}\r\n *\r\n * @class AjaxError\r\n */\r\nvar AjaxError = (function (_super) {\r\n    __extends(AjaxError, _super);\r\n    function AjaxError(message, xhr, request) {\r\n        _super.call(this, message);\r\n        this.message = message;\r\n        this.xhr = xhr;\r\n        this.request = request;\r\n        this.status = xhr.status;\r\n        this.responseType = xhr.responseType || request.responseType;\r\n        this.response = parseXhrResponse(this.responseType, xhr);\r\n    }\r\n    return AjaxError;\r\n}(Error));\r\nexports.AjaxError = AjaxError;\r\nfunction parseXhrResponse(responseType, xhr) {\r\n    switch (responseType) {\r\n        case 'json':\r\n            if ('response' in xhr) {\r\n                //IE does not support json as responseType, parse it internally\r\n                return xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || 'null');\r\n            }\r\n            else {\r\n                // HACK(benlesh): TypeScript shennanigans\r\n                // tslint:disable-next-line:no-any latest TS seems to think xhr is \"never\" here.\r\n                return JSON.parse(xhr.responseText || 'null');\r\n            }\r\n        case 'xml':\r\n            return xhr.responseXML;\r\n        case 'text':\r\n        default:\r\n            // HACK(benlesh): TypeScript shennanigans\r\n            // tslint:disable-next-line:no-any latest TS seems to think xhr is \"never\" here.\r\n            return ('response' in xhr) ? xhr.response : xhr.responseText;\r\n    }\r\n}\r\n/**\r\n * @see {@link ajax}\r\n *\r\n * @class AjaxTimeoutError\r\n */\r\nvar AjaxTimeoutError = (function (_super) {\r\n    __extends(AjaxTimeoutError, _super);\r\n    function AjaxTimeoutError(xhr, request) {\r\n        _super.call(this, 'ajax timeout', xhr, request);\r\n    }\r\n    return AjaxTimeoutError;\r\n}(AjaxError));\r\nexports.AjaxTimeoutError = AjaxTimeoutError;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}